!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=393)}({105:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LOGGING_WORKER="loggingWorker",r.NET_WORKER="netWorker",r.SQS_WORKER="sqsWorker"},106:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(105),o=n(82),a=n(44),i=n(43);r.logger={log:function(e,n,t){r.logger.doLog("INFO",e,n,t)},info:function(e,n,t){r.logger.doLog("INFO",e,n,t)},fatal:function(e,n,t){r.logger.doLog("FATAL",e,n,t)},error:function(e,n,t){r.logger.doLog("ERROR",e,n,t)},debug:function(e,n,t){r.logger.doLog("DEBUG",e,n,t)},warn:function(e,n,t){r.logger.doLog("WARN",e,n,t)},trace:function(e,n,t){r.logger.doLog("TRACE",e,n,t)},doLog:function(e,r,n,s){n&&(r=r+""+n),function(e,r,n,s){var u=a.workerCtx.principal,c=a.workerCtx.offline;s||(s={});new Promise(function(l,f){(s=u?i._.extend(s,{userUuid:u.userUuid,userName:u.userName,userEmail:u.userEmail,adUserId:u.adUserId,adClientId:u.adClientId}):i._.extend(s,{userUuid:"unknown",userName:"unknown",userEmail:"unknown",adUserId:"unknown",adClientId:"unknown"})).offline=c;new MessageChannel;var d={workerId:a.workerCtx.workerId,workerName:a.workerCtx.workerName,dstWorkerName:t.LOGGING_WORKER,messageName:"log",messageData:{level:e,time:r,message:n,attrs:s}};o.sendMessage(d).catch(function(e){console.error("workers/logger.sendOfflineLogMessage(): "+e)})})}(e,new Date,r,s)}}},109:function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},111:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(82),o=n(44),a=n(106),i=!1,s=0,u={};function c(e,r,n,o){return function(i,s,u,c){return function(e,r,n,o,i,s,u,c){o.sqlIdCounter+=1;var l={};if(l.sqlId=o.sqlIdCounter,l.sql=i,l.bindings=s,l.resultFn=u,l.errFn=c,"opened"!==o.state)throw console.error("websqlw: executeSql(): transaction in illegall state (this might be caused by calling executeSql() recursively again inside executeSql() success or error callbacks"),console.error("websqlw: executeSql(): transaction in illegall state (this might be caused by calling executeSql() recursively again inside executeSql() success or error callbacks"),new Error("websqlw: executeSql(): transaction in illegall state (this might be caused by calling executeSql() recursively again inside executeSql() success or error callbacks");o.sqls[l.sqlId]=l;var f={workerId:e,workerName:r,messageName:"websqlTransactionExecuteSql",messageData:{dbId:n.dbId,trxId:o.trxId,sqlId:l.sqlId,sql:i,bindings:s}};return t.sendMessage(f).catch(function(e){console.error("websqlw: websqlTransactionExecuteSql reply: error: "+e),a.logger.error("websqlw: websqlTransactionExecuteSql reply: error: "+e)})}(e,r,n,o,i,s,u,c)}}function l(e,r,n){return function(o,i,s,l){return function(e,r,n,o,i,s,l){try{n.trxIdCounter+=1;var f={};f.trxId=n.trxIdCounter,f.errFn=i,f.successFn=s,f.continueOnError=l,f.sqlIdCounter=0,f.sqls={},f.executeSql=c(e,r,n,f),u[n.dbId].trxs[f.trxId]=f;var d={workerId:e,workerName:r,messageName:"websqlTransaction",messageData:{dbId:n.dbId,trxId:f.trxId,continueOnError:f.continueOnError}};t.sendMessage(d).then(function(){try{f.state="opened",o(f)}catch(o){f.state="error",console.error("websqlw: error while calling transaction callback"),console.dir(o),a.logger.error("websqlw: error while calling transaction callback",o),d={workerId:e,workerName:r,messageName:"websqlTransactionRemove",messageData:{dbId:n.dbId,trxId:f.trxId}},t.sendMessage(d).then(function(){try{i(f,o)}catch(e){throw console.error("websqlw: transaction: errFn: error while calling transaction error callback"),console.dir(e),a.logger.error("websqlw: transaction: errFn: error while calling transaction error callback",e),delete u[n.dbId].trxs[f.trxId],e}delete u[n.dbId].trxs[f.trxId]},function(e){console.error("websqlw: websqlTransactionRemove reply: error: "+e),a.logger.error("websqlw: websqlTransactionRemove reply: error: "+e)})}d={workerId:e,workerName:r,messageName:"websqlTransactionExecute",messageData:{dbId:n.dbId,trxId:f.trxId}},t.sendMessage(d).then(function(){f.state="executing"},function(e){f.state="error";try{console.error("websqlw: websqlTransactionExecute reply: error: "+e),a.logger.error("websqlw: websqlTransactionExecute reply: error: "+e),i(e)}catch(e){throw console.error("websqlw: transaction: errFn: error while calling transaction error callback"),console.dir(e),a.logger.error("websqlw: transaction: errFn: error while calling transaction error callback",e),delete u[n.dbId].trxs[f.trxId],e}delete u[n.dbId].trxs[f.trxId]})},function(e){f.state="error",console.error("websqlw: websqlTransaction reply: error: "+e),a.logger.error("websqlw: websqlTransaction reply: error: "+e);try{i(e)}catch(e){throw console.error("websqlw: transaction: errFn: error while calling transaction error callback"),console.dir(e),a.logger.error("websqlw: transaction: errFn: error while calling transaction error callback",e),delete u[n.dbId].trxs[f.trxId],e}throw delete u[n.dbId].trxs[f.trxId],e})}catch(e){throw console.error("websqlw: transaction: error: "),console.dir(e),a.logger.error("websqlw: transaction: error: ",e),e}}(e,r,n,o,i,s,l)}}function f(e){s+=1;var r={};r.dbId=s,r.trxIdCounter=0,r.trxs={},r.transaction=l(o.workerCtx.workerId,o.workerCtx.workerName,r),r.close=function(){delete u[r.dbId]},r.execute=function(e,n){return function(e,r,n){var t=o.workerCtx.workerName+"("+o.workerCtx.workerId+")";o.settings.settings.isDebug&&o.settings.settings.isDebugDatabase&&console.debug(t+" :database.execute: "+r);var i,s=!1;return new Promise(function(o,u){e.transaction(function(e){e.executeSql(r,n,function(e,r){s=!0,i=!0,o(r)},function(e,r){s=!0,i=!1,console.error(t+" :database.execute: tx.executeSql: "+r),console.dir(r),a.logger.error(t+" :database.execute: tx.executeSql: "+r,r,{event:"SQL"}),u(r)})},function(e){return s?i?(console.error(t+" :database.execute: internal error"),e=new Error(t+" :database.execute: internal error"),a.logger.error(t+" :database.execute: transaction: "+e,e,{event:"SQL"}),void u(e)):(console.error(t+" :database.execute: transaction: "+e),console.dir(e),void a.logger.error(t+" :database.execute: transaction: "+e,e,{event:"SQL"})):(console.error(t+" :database.execute: internal error: sql was not executed"),e=new Error(t+" :database.execute: internal error: sql was not executed"),a.logger.error(t+" :database.execute: transaction: "+e,e,{event:"SQL"}),void u(e))},function(){var e;return s?i?void 0:(console.error(t+" :database.execute: internal error"),e=new Error(t+" :database.execute: internal error"),a.logger.error(t+" :database.execute: transaction: "+e,e,{event:"SQL"}),void u(e)):(console.error(t+" :database.execute: internal error: sql was not executed"),e=new Error(t+" :database.execute: internal error: sql was not executed"),a.logger.error(t+" :database.execute: transaction: "+e,e,{event:"SQL"}),void u(e))})})}(r,e,n)};var n={workerId:o.workerCtx.workerId,workerName:o.workerCtx.workerName,messageName:"websqlDatabse",messageData:{dbId:r.dbId}};return t.sendMessage(n).then(function(){u[r.dbId]=r,e(void 0,r)},function(r){e(r)})}r.listenToEvenets=function(e){var r,n,t,o,s,c,l,f=e.data;i&&(console.log("websqlw: "+f.messageName),console.log("dbId: "+f.messageData.dbId),console.log("trxId: "+f.messageData.trxId),console.log("sqlId: "+f.messageData.sqlId));try{if("websqlTransactionExecuteSqlResultSuccess"===f.messageName){n=f.messageData.dbId,t=u[n],o=f.messageData.trxId,s=t.trxs[o],c=f.messageData.sqlId,(l=s.sqls[c]).result=f.messageData.result,l.result.rows.item=function(e){if(e<l.result.rows.length)return l.result.rows[e]};try{l.resultFn(s,l.result),e.ports[0].postMessage({}),s.sqls[c]=null}catch(r){try{console.error("websqlw: error while calling executeSql success callback"),console.dir(r),a.logger.error("websqlw: error while calling executeSql success callback",r),l.err=r,!1===l.errFn(s,l.err)&&(console.error('websqlw: error: executeSql() error callback "false" return value not supported, use instead "continueOnError" optional parameter for transaction() call'),a.logger.error('websqlw: error: executeSql() error callback "false" return value not supported, use instead "continueOnError" optional parameter for transaction() call')),e.ports[0].postMessage({err:""+r}),s.sqls[c]=null}catch(r){try{console.error("websqlw: error while calling executeSql error callback"),console.dir(r),a.logger.error("websqlw: error while calling executeSql error callback",r),e.ports[0].postMessage({err:""+r}),s.sqls[c]=null}catch(r){e.ports[0].postMessage({err:""+r}),s.sqls[c]=null}}}return!0}if("websqlTransactionExecuteSqlResultError"===f.messageName){n=f.messageData.dbId,t=u[n],o=f.messageData.trxId,s=t.trxs[o],c=f.messageData.sqlId,(l=s.sqls[c]).err=f.messageData.err;try{!1===l.errFn(s,l.err)&&(console.error('websqlw: error: executeSql() error callback "false" return value not supported, use instead "continueOnError" optional parameter for transaction() call'),a.logger.error('websqlw: error: executeSql() error callback "false" return value not supported, use instead "continueOnError" optional parameter for transaction() call')),e.ports[0].postMessage({}),s.sqls[c]=null}catch(r){throw console.error("websqlw: error while calling executeSql error callback"),console.dir(r),a.logger.error("websqlw: error while calling executeSql error callback",r),e.ports[0].postMessage({}),s.sqls[c]=null,r}return!0}if("websqlTransactionResultError"===f.messageName){n=f.messageData.dbId,t=u[n],o=f.messageData.trxId,s=t.trxs[o];try{s.errFn(f.messageData.err),e.ports[0].postMessage({}),delete t.trxs[o]}catch(r){throw e.ports[0].postMessage({}),delete t.trxs[o],console.error("websqlw: error while calling transaction callback"),console.dir(r),a.logger.error("websqlw: error while calling transaction callback",r),r}return!0}if("websqlTransactionResultSuccess"===f.messageName){n=f.messageData.dbId,t=u[n],o=f.messageData.trxId,s=t.trxs[o];try{s.successFn(),e.ports[0].postMessage({}),delete t.trxs[o]}catch(r){throw e.ports[0].postMessage({}),delete t.trxs[o],console.error("websqlw: error while calling transaction callback"),console.dir(r),a.logger.error("websqlw: error while calling transaction callback",r),r}return!0}}catch(r){return console.error("websqlw: error: "),console.dir(r),e.ports[0].postMessage({err:""+r}),!0}},r.openDatabase=function(){return new Promise(function(e,r){f(function(n,t){n?r(n):e(t)})})}},116:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(44),o=n(111),a=!1;self;r.bootWorker=function(e,r){self.addEventListener("message",function(n){var i,s=n.data,u=!1;a&&console.log("worker: "+s.workerName+": "+s.messageName);try{if("workerId"===s.messageName)return t.workerCtx.workerId=s.messageData.workerId,t.workerCtx.workerName=s.workerName,console.log("worker: "+s.workerName+": "+t.workerCtx.workerId+" :started"),n.ports[0].postMessage({workerId:t.workerCtx.workerId}),void(r&&(u||(u=!0,r())));if(t.workerCtx.workerId!==s.workerId&&t.workerCtx.workerId!==s.dstWorkerId)return console.error("workers/worker: workerId differs"),i=new Error("workers/worker: workerId differs"),void n.ports[0].postMessage({err:""+i});if("settings"===s.messageName)return t.setSettings(s.messageData.settings),void n.ports[0].postMessage({});if("offline"===s.messageName)return n.ports[0].postMessage({}),void(t.workerCtx.offline=s.messageData.offline);if("device"===s.messageName)return n.ports[0].postMessage({}),void(t.workerCtx.device=s.messageData.device);if("appVersion"===s.messageName)return n.ports[0].postMessage({}),void(t.workerCtx.appVersion=s.messageData.appVersion);if("environment"===s.messageName)return n.ports[0].postMessage({}),void(t.workerCtx.environment=s.messageData.environment);if("principal"===s.messageName)return n.ports[0].postMessage({}),void(t.workerCtx.principal=s.messageData.principal);if(o.listenToEvenets(n))return;if(e(n))return}catch(i){console.error("workerCommon: listenToEvenets(): error: "),console.dir(i),n.ports[0].postMessage({err:""+i})}})}},393:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(82),o=n(44),a=n(44),i=n(116),s=n(83),u=!1;function c(e){var r={workerId:a.workerCtx.workerId,workerName:a.workerCtx.workerName,messageName:"offline",messageData:{offline:e}};t.sendMessage(r),o.settings.settings.isDebug&&o.settings.settings.isDebugNet&&console.debug("netWorker: sent message: offline "+e)}i.bootWorker(function(e){var r=e.data;try{if(o.settings.settings.isDebug&&o.settings.settings.isDebugNet&&console.debug("netWorker: received message: "+r.messageName),"setOfflineState"===r.messageName){var n=r.messageData.offlile;return e.ports[0].postMessage({}),u!==n&&c(u=n),!0}}catch(r){console.error("netWorker: error: "),console.dir(r),e.ports[0].postMessage({err:""+r})}},function(){c(u),function e(){var r=o.settings.settings.httpPingInterval||0;r<15e3&&(r=15e3),self.setTimeout(function(){s.pingHttp(5e3).then(function(){var e=!1;o.settings.settings.isOffline&&(e=!0),u!==e&&c(u=e)},function(){!0!==u&&c(u=!0)}),e()},r)}()})},43:function(e,r,n){(function(e,n){var t;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},a=o._,i=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,c=i.push,l=i.slice,f=s.toString,d=s.hasOwnProperty,p=Array.isArray,g=Object.keys,w=Object.create,v=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};void 0===r||r.nodeType?o._=m:(void 0!==n&&!n.nodeType&&n.exports&&(r=n.exports=m),r._=m),m.VERSION="1.9.1";var h,b=function(e,r,n){if(void 0===r)return e;switch(null==n?3:n){case 1:return function(n){return e.call(r,n)};case 3:return function(n,t,o){return e.call(r,n,t,o)};case 4:return function(n,t,o,a){return e.call(r,n,t,o,a)}}return function(){return e.apply(r,arguments)}},y=function(e,r,n){return m.iteratee!==h?m.iteratee(e,r):null==e?m.identity:m.isFunction(e)?b(e,r,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=h=function(e,r){return y(e,r,1/0)};var x=function(e,r){return r=null==r?e.length-1:+r,function(){for(var n=Math.max(arguments.length-r,0),t=Array(n),o=0;o<n;o++)t[o]=arguments[o+r];switch(r){case 0:return e.call(this,t);case 1:return e.call(this,arguments[0],t);case 2:return e.call(this,arguments[0],arguments[1],t)}var a=Array(r+1);for(o=0;o<r;o++)a[o]=arguments[o];return a[r]=t,e.apply(this,a)}},k=function(e){if(!m.isObject(e))return{};if(w)return w(e);v.prototype=e;var r=new v;return v.prototype=null,r},q=function(e){return function(r){return null==r?void 0:r[e]}},I=function(e,r){return null!=e&&d.call(e,r)},_=function(e,r){for(var n=r.length,t=0;t<n;t++){if(null==e)return;e=e[r[t]]}return n?e:void 0},N=Math.pow(2,53)-1,O=q("length"),S=function(e){var r=O(e);return"number"==typeof r&&r>=0&&r<=N};m.each=m.forEach=function(e,r,n){var t,o;if(r=b(r,n),S(e))for(t=0,o=e.length;t<o;t++)r(e[t],t,e);else{var a=m.keys(e);for(t=0,o=a.length;t<o;t++)r(e[a[t]],a[t],e)}return e},m.map=m.collect=function(e,r,n){r=y(r,n);for(var t=!S(e)&&m.keys(e),o=(t||e).length,a=Array(o),i=0;i<o;i++){var s=t?t[i]:i;a[i]=r(e[s],s,e)}return a};var j=function(e){return function(r,n,t,o){var a=arguments.length>=3;return function(r,n,t,o){var a=!S(r)&&m.keys(r),i=(a||r).length,s=e>0?0:i-1;for(o||(t=r[a?a[s]:s],s+=e);s>=0&&s<i;s+=e){var u=a?a[s]:s;t=n(t,r[u],u,r)}return t}(r,b(n,o,4),t,a)}};m.reduce=m.foldl=m.inject=j(1),m.reduceRight=m.foldr=j(-1),m.find=m.detect=function(e,r,n){var t=(S(e)?m.findIndex:m.findKey)(e,r,n);if(void 0!==t&&-1!==t)return e[t]},m.filter=m.select=function(e,r,n){var t=[];return r=y(r,n),m.each(e,function(e,n,o){r(e,n,o)&&t.push(e)}),t},m.reject=function(e,r,n){return m.filter(e,m.negate(y(r)),n)},m.every=m.all=function(e,r,n){r=y(r,n);for(var t=!S(e)&&m.keys(e),o=(t||e).length,a=0;a<o;a++){var i=t?t[a]:a;if(!r(e[i],i,e))return!1}return!0},m.some=m.any=function(e,r,n){r=y(r,n);for(var t=!S(e)&&m.keys(e),o=(t||e).length,a=0;a<o;a++){var i=t?t[a]:a;if(r(e[i],i,e))return!0}return!1},m.contains=m.includes=m.include=function(e,r,n,t){return S(e)||(e=m.values(e)),("number"!=typeof n||t)&&(n=0),m.indexOf(e,r,n)>=0},m.invoke=x(function(e,r,n){var t,o;return m.isFunction(r)?o=r:m.isArray(r)&&(t=r.slice(0,-1),r=r[r.length-1]),m.map(e,function(e){var a=o;if(!a){if(t&&t.length&&(e=_(e,t)),null==e)return;a=e[r]}return null==a?a:a.apply(e,n)})}),m.pluck=function(e,r){return m.map(e,m.property(r))},m.where=function(e,r){return m.filter(e,m.matcher(r))},m.findWhere=function(e,r){return m.find(e,m.matcher(r))},m.max=function(e,r,n){var t,o,a=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=S(e)?e:m.values(e)).length;s<u;s++)null!=(t=e[s])&&t>a&&(a=t);else r=y(r,n),m.each(e,function(e,n,t){((o=r(e,n,t))>i||o===-1/0&&a===-1/0)&&(a=e,i=o)});return a},m.min=function(e,r,n){var t,o,a=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=S(e)?e:m.values(e)).length;s<u;s++)null!=(t=e[s])&&t<a&&(a=t);else r=y(r,n),m.each(e,function(e,n,t){((o=r(e,n,t))<i||o===1/0&&a===1/0)&&(a=e,i=o)});return a},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,r,n){if(null==r||n)return S(e)||(e=m.values(e)),e[m.random(e.length-1)];var t=S(e)?m.clone(e):m.values(e),o=O(t);r=Math.max(Math.min(r,o),0);for(var a=o-1,i=0;i<r;i++){var s=m.random(i,a),u=t[i];t[i]=t[s],t[s]=u}return t.slice(0,r)},m.sortBy=function(e,r,n){var t=0;return r=y(r,n),m.pluck(m.map(e,function(e,n,o){return{value:e,index:t++,criteria:r(e,n,o)}}).sort(function(e,r){var n=e.criteria,t=r.criteria;if(n!==t){if(n>t||void 0===n)return 1;if(n<t||void 0===t)return-1}return e.index-r.index}),"value")};var M=function(e,r){return function(n,t,o){var a=r?[[],[]]:{};return t=y(t,o),m.each(n,function(r,o){var i=t(r,o,n);e(a,r,i)}),a}};m.groupBy=M(function(e,r,n){I(e,n)?e[n].push(r):e[n]=[r]}),m.indexBy=M(function(e,r,n){e[n]=r}),m.countBy=M(function(e,r,n){I(e,n)?e[n]++:e[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(E):S(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:S(e)?e.length:m.keys(e).length},m.partition=M(function(e,r,n){e[n?0:1].push(r)},!0),m.first=m.head=m.take=function(e,r,n){return null==e||e.length<1?null==r?void 0:[]:null==r||n?e[0]:m.initial(e,e.length-r)},m.initial=function(e,r,n){return l.call(e,0,Math.max(0,e.length-(null==r||n?1:r)))},m.last=function(e,r,n){return null==e||e.length<1?null==r?void 0:[]:null==r||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-r))},m.rest=m.tail=m.drop=function(e,r,n){return l.call(e,null==r||n?1:r)},m.compact=function(e){return m.filter(e,Boolean)};var D=function(e,r,n,t){for(var o=(t=t||[]).length,a=0,i=O(e);a<i;a++){var s=e[a];if(S(s)&&(m.isArray(s)||m.isArguments(s)))if(r)for(var u=0,c=s.length;u<c;)t[o++]=s[u++];else D(s,r,n,t),o=t.length;else n||(t[o++]=s)}return t};m.flatten=function(e,r){return D(e,r,!1)},m.without=x(function(e,r){return m.difference(e,r)}),m.uniq=m.unique=function(e,r,n,t){m.isBoolean(r)||(t=n,n=r,r=!1),null!=n&&(n=y(n,t));for(var o=[],a=[],i=0,s=O(e);i<s;i++){var u=e[i],c=n?n(u,i,e):u;r&&!n?(i&&a===c||o.push(u),a=c):n?m.contains(a,c)||(a.push(c),o.push(u)):m.contains(o,u)||o.push(u)}return o},m.union=x(function(e){return m.uniq(D(e,!0,!0))}),m.intersection=function(e){for(var r=[],n=arguments.length,t=0,o=O(e);t<o;t++){var a=e[t];if(!m.contains(r,a)){var i;for(i=1;i<n&&m.contains(arguments[i],a);i++);i===n&&r.push(a)}}return r},m.difference=x(function(e,r){return r=D(r,!0,!0),m.filter(e,function(e){return!m.contains(r,e)})}),m.unzip=function(e){for(var r=e&&m.max(e,O).length||0,n=Array(r),t=0;t<r;t++)n[t]=m.pluck(e,t);return n},m.zip=x(m.unzip),m.object=function(e,r){for(var n={},t=0,o=O(e);t<o;t++)r?n[e[t]]=r[t]:n[e[t][0]]=e[t][1];return n};var P=function(e){return function(r,n,t){n=y(n,t);for(var o=O(r),a=e>0?0:o-1;a>=0&&a<o;a+=e)if(n(r[a],a,r))return a;return-1}};m.findIndex=P(1),m.findLastIndex=P(-1),m.sortedIndex=function(e,r,n,t){for(var o=(n=y(n,t,1))(r),a=0,i=O(e);a<i;){var s=Math.floor((a+i)/2);n(e[s])<o?a=s+1:i=s}return a};var C=function(e,r,n){return function(t,o,a){var i=0,s=O(t);if("number"==typeof a)e>0?i=a>=0?a:Math.max(a+s,i):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return t[a=n(t,o)]===o?a:-1;if(o!=o)return(a=r(l.call(t,i,s),m.isNaN))>=0?a+i:-1;for(a=e>0?i:s-1;a>=0&&a<s;a+=e)if(t[a]===o)return a;return-1}};m.indexOf=C(1,m.findIndex,m.sortedIndex),m.lastIndexOf=C(-1,m.findLastIndex),m.range=function(e,r,n){null==r&&(r=e||0,e=0),n||(n=r<e?-1:1);for(var t=Math.max(Math.ceil((r-e)/n),0),o=Array(t),a=0;a<t;a++,e+=n)o[a]=e;return o},m.chunk=function(e,r){if(null==r||r<1)return[];for(var n=[],t=0,o=e.length;t<o;)n.push(l.call(e,t,t+=r));return n};var T=function(e,r,n,t,o){if(!(t instanceof r))return e.apply(n,o);var a=k(e.prototype),i=e.apply(a,o);return m.isObject(i)?i:a};m.bind=x(function(e,r,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var t=x(function(o){return T(e,t,r,this,n.concat(o))});return t}),m.partial=x(function(e,r){var n=m.partial.placeholder,t=function(){for(var o=0,a=r.length,i=Array(a),s=0;s<a;s++)i[s]=r[s]===n?arguments[o++]:r[s];for(;o<arguments.length;)i.push(arguments[o++]);return T(e,t,this,this,i)};return t}),m.partial.placeholder=m,m.bindAll=x(function(e,r){var n=(r=D(r,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var t=r[n];e[t]=m.bind(e[t],e)}}),m.memoize=function(e,r){var n=function(t){var o=n.cache,a=""+(r?r.apply(this,arguments):t);return I(o,a)||(o[a]=e.apply(this,arguments)),o[a]};return n.cache={},n},m.delay=x(function(e,r,n){return setTimeout(function(){return e.apply(null,n)},r)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,r,n){var t,o,a,i,s=0;n||(n={});var u=function(){s=!1===n.leading?0:m.now(),t=null,i=e.apply(o,a),t||(o=a=null)},c=function(){var c=m.now();s||!1!==n.leading||(s=c);var l=r-(c-s);return o=this,a=arguments,l<=0||l>r?(t&&(clearTimeout(t),t=null),s=c,i=e.apply(o,a),t||(o=a=null)):t||!1===n.trailing||(t=setTimeout(u,l)),i};return c.cancel=function(){clearTimeout(t),s=0,t=o=a=null},c},m.debounce=function(e,r,n){var t,o,a=function(r,n){t=null,n&&(o=e.apply(r,n))},i=x(function(i){if(t&&clearTimeout(t),n){var s=!t;t=setTimeout(a,r),s&&(o=e.apply(this,i))}else t=m.delay(a,r,this,i);return o});return i.cancel=function(){clearTimeout(t),t=null},i},m.wrap=function(e,r){return m.partial(r,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,r=e.length-1;return function(){for(var n=r,t=e[r].apply(this,arguments);n--;)t=e[n].call(this,t);return t}},m.after=function(e,r){return function(){if(--e<1)return r.apply(this,arguments)}},m.before=function(e,r){var n;return function(){return--e>0&&(n=r.apply(this,arguments)),e<=1&&(r=null),n}},m.once=m.partial(m.before,2),m.restArguments=x;var A=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,r){var n=F.length,t=e.constructor,o=m.isFunction(t)&&t.prototype||s,a="constructor";for(I(e,a)&&!m.contains(r,a)&&r.push(a);n--;)(a=F[n])in e&&e[a]!==o[a]&&!m.contains(r,a)&&r.push(a)};m.keys=function(e){if(!m.isObject(e))return[];if(g)return g(e);var r=[];for(var n in e)I(e,n)&&r.push(n);return A&&R(e,r),r},m.allKeys=function(e){if(!m.isObject(e))return[];var r=[];for(var n in e)r.push(n);return A&&R(e,r),r},m.values=function(e){for(var r=m.keys(e),n=r.length,t=Array(n),o=0;o<n;o++)t[o]=e[r[o]];return t},m.mapObject=function(e,r,n){r=y(r,n);for(var t=m.keys(e),o=t.length,a={},i=0;i<o;i++){var s=t[i];a[s]=r(e[s],s,e)}return a},m.pairs=function(e){for(var r=m.keys(e),n=r.length,t=Array(n),o=0;o<n;o++)t[o]=[r[o],e[r[o]]];return t},m.invert=function(e){for(var r={},n=m.keys(e),t=0,o=n.length;t<o;t++)r[e[n[t]]]=n[t];return r},m.functions=m.methods=function(e){var r=[];for(var n in e)m.isFunction(e[n])&&r.push(n);return r.sort()};var L=function(e,r){return function(n){var t=arguments.length;if(r&&(n=Object(n)),t<2||null==n)return n;for(var o=1;o<t;o++)for(var a=arguments[o],i=e(a),s=i.length,u=0;u<s;u++){var c=i[u];r&&void 0!==n[c]||(n[c]=a[c])}return n}};m.extend=L(m.allKeys),m.extendOwn=m.assign=L(m.keys),m.findKey=function(e,r,n){r=y(r,n);for(var t,o=m.keys(e),a=0,i=o.length;a<i;a++)if(r(e[t=o[a]],t,e))return t};var W,K,B=function(e,r,n){return r in n};m.pick=x(function(e,r){var n={},t=r[0];if(null==e)return n;m.isFunction(t)?(r.length>1&&(t=b(t,r[1])),r=m.allKeys(e)):(t=B,r=D(r,!1,!1),e=Object(e));for(var o=0,a=r.length;o<a;o++){var i=r[o],s=e[i];t(s,i,e)&&(n[i]=s)}return n}),m.omit=x(function(e,r){var n,t=r[0];return m.isFunction(t)?(t=m.negate(t),r.length>1&&(n=r[1])):(r=m.map(D(r,!1,!1),String),t=function(e,n){return!m.contains(r,n)}),m.pick(e,t,n)}),m.defaults=L(m.allKeys,!0),m.create=function(e,r){var n=k(e);return r&&m.extendOwn(n,r),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,r){return r(e),e},m.isMatch=function(e,r){var n=m.keys(r),t=n.length;if(null==e)return!t;for(var o=Object(e),a=0;a<t;a++){var i=n[a];if(r[i]!==o[i]||!(i in o))return!1}return!0},W=function(e,r,n,t){if(e===r)return 0!==e||1/e==1/r;if(null==e||null==r)return!1;if(e!=e)return r!=r;var o=typeof e;return("function"===o||"object"===o||"object"==typeof r)&&K(e,r,n,t)},K=function(e,r,n,t){e instanceof m&&(e=e._wrapped),r instanceof m&&(r=r._wrapped);var o=f.call(e);if(o!==f.call(r))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":return+e!=+e?+r!=+r:0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(r)}var a="[object Array]"===o;if(!a){if("object"!=typeof e||"object"!=typeof r)return!1;var i=e.constructor,s=r.constructor;if(i!==s&&!(m.isFunction(i)&&i instanceof i&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in r)return!1}n=n||[],t=t||[];for(var c=n.length;c--;)if(n[c]===e)return t[c]===r;if(n.push(e),t.push(r),a){if((c=e.length)!==r.length)return!1;for(;c--;)if(!W(e[c],r[c],n,t))return!1}else{var l,d=m.keys(e);if(c=d.length,m.keys(r).length!==c)return!1;for(;c--;)if(l=d[c],!I(r,l)||!W(e[l],r[l],n,t))return!1}return n.pop(),t.pop(),!0},m.isEqual=function(e,r){return W(e,r)},m.isEmpty=function(e){return null==e||(S(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=p||function(e){return"[object Array]"===f.call(e)},m.isObject=function(e){var r=typeof e;return"function"===r||"object"===r&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(r){return f.call(r)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return I(e,"callee")});var U=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof U&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,r){if(!m.isArray(r))return I(e,r);for(var n=r.length,t=0;t<n;t++){var o=r[t];if(null==e||!d.call(e,o))return!1;e=e[o]}return!!n},m.noConflict=function(){return o._=a,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(r){return _(r,e)}:q(e)},m.propertyOf=function(e){return null==e?function(){}:function(r){return m.isArray(r)?_(e,r):e[r]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(r){return m.isMatch(r,e)}},m.times=function(e,r,n){var t=Array(Math.max(0,e));r=b(r,n,1);for(var o=0;o<e;o++)t[o]=r(o);return t},m.random=function(e,r){return null==r&&(r=e,e=0),e+Math.floor(Math.random()*(r-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Q=m.invert(G),V=function(e){var r=function(r){return e[r]},n="(?:"+m.keys(e).join("|")+")",t=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,t.test(e)?e.replace(o,r):e}};m.escape=V(G),m.unescape=V(Q),m.result=function(e,r,n){m.isArray(r)||(r=[r]);var t=r.length;if(!t)return m.isFunction(n)?n.call(e):n;for(var o=0;o<t;o++){var a=null==e?void 0:e[r[o]];void 0===a&&(a=n,o=t),e=m.isFunction(a)?a.call(e):a}return e};var z=0;m.uniqueId=function(e){var r=++z+"";return e?e+r:r},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+J[e]};m.template=function(e,r,n){!r&&n&&(r=n),r=m.defaults({},r,m.templateSettings);var t,o=RegExp([(r.escape||H).source,(r.interpolate||H).source,(r.evaluate||H).source].join("|")+"|$","g"),a=0,i="__p+='";e.replace(o,function(r,n,t,o,s){return i+=e.slice(a,s).replace(X,$),a=s+r.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":t?i+="'+\n((__t=("+t+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),r}),i+="';\n",r.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{t=new Function(r.variable||"obj","_",i)}catch(e){throw e.source=i,e}var s=function(e){return t.call(this,e,m)},u=r.variable||"obj";return s.source="function("+u+"){\n"+i+"}",s},m.chain=function(e){var r=m(e);return r._chain=!0,r};var Y=function(e,r){return e._chain?m(r).chain():r};m.mixin=function(e){return m.each(m.functions(e),function(r){var n=m[r]=e[r];m.prototype[r]=function(){var e=[this._wrapped];return c.apply(e,arguments),Y(this,n.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=i[e];m.prototype[e]=function(){var n=this._wrapped;return r.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Y(this,n)}}),m.each(["concat","join","slice"],function(e){var r=i[e];m.prototype[e]=function(){return Y(this,r.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(t=function(){return m}.apply(r,[]))||(n.exports=t)}()}).call(this,n(54),n(109)(e))},44:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});self;r.workerCtx={workerId:null,workerName:"unknown",offline:!0,device:{},settings:{},appVersion:null,environment:null,principal:null},r.settings={settings:{}},r.setSettings=function(e){r.workerCtx.settings=e,r.settings.settings=e}},49:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(43);function o(e){return new Promise(function(r,n){return r(e)})}function a(e){return new Promise(function(r,n){return n(e)})}r.toPromise=function(e){return e&&"function"==typeof e.then?new Promise(function(r,n){e.then(function(e){r(e)},function(e){n(e)})}):o(e)},r.newPromise=function(e){return new Promise(function(r,n){try{e(r,n)}catch(e){console.error(e),n(e)}})},r.promiseResolve=o,r.promiseReject=a,r.promiseAll=function(e){var r=e.length;return new Promise(function(n,o){var a=[];0===r?n(a):t._.each(e,function(e,t){e.then(function(e){a[t]=e,0==--r&&n(a)},function(e){o(e)})})})},r.sequenceOfPromises=function(e,r){return function n(t,o){var a=e(o,r);return a?a.then(function(){return n(t,o+1)},function(e){return console.error("error in generatorFn:"),console.dir(e),n(e,o+1)}):new Promise(function(e,r){t?r(t):e()})}(null,0)},r.sequenceOfPromisesUntillValue=function(e,r,n){return function t(o,i){var s=e(i,n);return s?s.then(function(e){return r(e)?o?a(o):void 0:t(o,i+1)},function(e){return t(e,i+1)}):new Promise(function(e,r){o?r(o):e()})}(null,0)},r.waitFor=function(e,r,n){n||(n=1e3);var t=0;return new Promise(function(o,a){!function i(){e()?o():setTimeout(function(){(t+=n)>6e4&&console.error("waitFor(): waiting tool long for resource ...."),r&&t>r&&(console.error("waitFor(): timeout"),a(new Error("waitFor(): timeout"))),i()},1e3)}()})},r.deepOmit=function(e,r){return function e(n){var o=t._.omit(n,r);return t._.each(o,function(r,n){t._.isObject(o[n])&&(o[n]=e(r))}),o}(e)},r.rowsToJson=function(e){var r={};return t._.each(e,function(e){r[e.Key]=e.Value}),r},r.clone=function e(r){if(null===r||"object"!=typeof r)return r;var n=r.constructor();for(var t in r)n[t]=e(r[t]);return n},r.rxPromise=function(e){return new Promise(function(r,n){e.subscribe(function(e){r(e)},function(e){n(e)})})},r.sleep=function(e){return new Promise(function(r,n){setTimeout(function(){r()},e)})}},54:function(e,r){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},82:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(49),o=n(105),a=n(83),i=n(44),s=self;function u(e){return new Promise(function(r,n){var t=new MessageChannel;s.postMessage(e,[t.port2]),t.port1.onmessage=function(e){e.data.err?n(e.data.err):r(e.data)}})}r.sendMessage=u,r.pingHttp=function(){var e={workerId:i.workerCtx.workerId,workerName:i.workerCtx.workerName,dstWorkerName:o.NET_WORKER,messageName:"setOfflinneState",messageData:{}};return a.pingHttp().then(function(r){return e.messageData.offline=!1,u(e),r},function(r){return e.messageData.offline=!0,u(e),t.promiseReject(r)})},r.refreshPrincipal=function(){return u({workerId:i.workerCtx.workerId,workerName:i.workerCtx.workerName,messageName:"refreshPrincipal",messageData:{}})}},83:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pingHttp=function(e){return new Promise(function(r,n){return e||(e=5e3),new Promise(function(r,n){var t=new XMLHttpRequest;t.timeout=e,t.onreadystatechange=function(){4===t.readyState&&(200===t.status?r():n())},t.open("OPTIONS","https://apiv1.cloudempiere.com/alpha/status",!0),t.send(),t.ontimeout=function(){return n()},t.error=function(e){return n()}}).then(r,n)})}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvd29ya2Vycy9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd29ya2Vycy93ZWJzcWx3LnRzIiwid2VicGFjazovLy8uL3NyYy93b3JrZXJzL3dvcmtlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvd29ya2Vycy9uZXRXb3JrZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvdW5kZXJzY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd29ya2Vycy93b3JrZXJDdHgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21tb24vdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd29ya2Vycy9jb21tb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9waW5naHR0cC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkxPR0dJTkdfV09SS0VSIiwiTkVUX1dPUktFUiIsIlNRU19XT1JLRVIiLCJ0eXBlc18xIiwiY29tbW9uXzEiLCJ3b3JrZXJDdHhfMSIsInVuZGVyc2NvcmVfMSIsImxvZ2dlciIsImxvZyIsIm1lc3NhZ2UiLCJlcnIiLCJhdHRycyIsImRvTG9nIiwiaW5mbyIsImZhdGFsIiwiZXJyb3IiLCJkZWJ1ZyIsIndhcm4iLCJ0cmFjZSIsImxldmVsIiwidGltZSIsInByaW5jaXBhbCIsIndvcmtlckN0eCIsIm9mZmxpbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIl8iLCJleHRlbmQiLCJ1c2VyVXVpZCIsInVzZXJOYW1lIiwidXNlckVtYWlsIiwiYWRVc2VySWQiLCJhZENsaWVudElkIiwiTWVzc2FnZUNoYW5uZWwiLCJtc2ciLCJ3b3JrZXJJZCIsIndvcmtlck5hbWUiLCJkc3RXb3JrZXJOYW1lIiwibWVzc2FnZU5hbWUiLCJtZXNzYWdlRGF0YSIsInNlbmRNZXNzYWdlIiwiY2F0Y2giLCJjb25zb2xlIiwic2VuZE9mZmxpbmVMb2dNZXNzYWdlIiwiRGF0ZSIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJsb2dnZXJfMSIsIkRFQlVHX1dPUktFUl9XRUJTUUwiLCJkYklkQ291bnRlciIsImRicyIsIm1ha2VFeHRlcm5hbEV4ZWN1dGVTcWxGbiIsImRiIiwidHJ4Iiwic3FsIiwiYmluZGluZ3MiLCJyZXN1bHRGbiIsImVyckZuIiwic3FsSWRDb3VudGVyIiwiX3NxbCIsInNxbElkIiwic3RhdGUiLCJFcnJvciIsInNxbHMiLCJkYklkIiwidHJ4SWQiLCJleGVjdXRlU3FsIiwibWFrZUV4dGVybmFsVHJhbnNhY3Rpb25GbiIsInRyeEZuIiwic3VjY2Vzc0ZuIiwiY29udGludWVPbkVycm9yIiwidHJ4SWRDb3VudGVyIiwidHJ4cyIsInRoZW4iLCJkaXIiLCJ0cmFuc2FjdGlvbiIsIl9vcGVuRGF0YWJhc2UiLCJjYWxsYmFja0ZuIiwiY2xvc2UiLCJleGVjdXRlIiwiYmluZGluZyIsIndvcmtlclN0ciIsInNldHRpbmdzIiwiaXNEZWJ1ZyIsImlzRGVidWdEYXRhYmFzZSIsImV4ZWN1dGVkT2siLCJleGNldXRlZCIsInR4IiwicmVzdWx0cyIsImV2ZW50IiwidW5kZWZpbmVkIiwibGlzdGVuVG9FdmVuZXRzIiwiZGF0YSIsInJlc3VsdCIsInJvd3MiLCJpdGVtIiwibGVuZ3RoIiwicG9ydHMiLCJwb3N0TWVzc2FnZSIsIm9wZW5EYXRhYmFzZSIsIndlYnNxbHdfMSIsIkRFQlVHX1dPUktFUiIsInNlbGYiLCJib290V29ya2VyIiwibWVzc2FnZUhhbmRsZXJGbiIsInN0YXJ0dXBGbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGFydHVwQ2FsbGVkIiwiZHN0V29ya2VySWQiLCJzZXRTZXR0aW5ncyIsImRldmljZSIsImFwcFZlcnNpb24iLCJlbnZpcm9ubWVudCIsIndvcmtlckN0eF8yIiwid29ya2VyXzEiLCJwaW5naHR0cF8xIiwic2VuZE9mZmxpbmVTdGF0ZSIsImlzRGVidWdOZXQiLCJfb2ZmbGluZSIsIm9mZmxpbGUiLCJkb1BpbmciLCJpbnRlcnZhbCIsImh0dHBQaW5nSW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwicGluZ0h0dHAiLCJpc09mZmxpbmUiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInJvb3QiLCJ0aGlzIiwicHJldmlvdXNVbmRlcnNjb3JlIiwiQXJyYXlQcm90byIsIkFycmF5IiwiT2JqUHJvdG8iLCJTeW1ib2xQcm90byIsInB1c2giLCJzbGljZSIsInRvU3RyaW5nIiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwia2V5cyIsIm5hdGl2ZUNyZWF0ZSIsIkN0b3IiLCJvYmoiLCJfd3JhcHBlZCIsIm5vZGVUeXBlIiwiVkVSU0lPTiIsImJ1aWx0aW5JdGVyYXRlZSIsIm9wdGltaXplQ2IiLCJmdW5jIiwiY29udGV4dCIsImFyZ0NvdW50IiwiaW5kZXgiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJhcHBseSIsImFyZ3VtZW50cyIsImNiIiwiaXRlcmF0ZWUiLCJpZGVudGl0eSIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsIm1hdGNoZXIiLCJJbmZpbml0eSIsInJlc3RBcmd1bWVudHMiLCJzdGFydEluZGV4IiwiTWF0aCIsIm1heCIsInJlc3QiLCJhcmdzIiwiYmFzZUNyZWF0ZSIsInNoYWxsb3dQcm9wZXJ0eSIsImhhcyIsInBhdGgiLCJkZWVwR2V0IiwiTUFYX0FSUkFZX0lOREVYIiwicG93IiwiZ2V0TGVuZ3RoIiwiaXNBcnJheUxpa2UiLCJlYWNoIiwiZm9yRWFjaCIsIm1hcCIsImNvbGxlY3QiLCJjdXJyZW50S2V5IiwiY3JlYXRlUmVkdWNlIiwibWVtbyIsImluaXRpYWwiLCJyZWR1Y2VyIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsInByZWRpY2F0ZSIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiY29udGFpbnMiLCJpbmNsdWRlcyIsImluY2x1ZGUiLCJmcm9tSW5kZXgiLCJndWFyZCIsInZhbHVlcyIsImluZGV4T2YiLCJpbnZva2UiLCJjb250ZXh0UGF0aCIsIm1ldGhvZCIsInBsdWNrIiwid2hlcmUiLCJmaW5kV2hlcmUiLCJjb21wdXRlZCIsImxhc3RDb21wdXRlZCIsInYiLCJtaW4iLCJzaHVmZmxlIiwic2FtcGxlIiwicmFuZG9tIiwiY2xvbmUiLCJsYXN0IiwicmFuZCIsInRlbXAiLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJwYXJ0aXRpb24iLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJyZVN0clN5bWJvbCIsInRvQXJyYXkiLCJpc1N0cmluZyIsIm1hdGNoIiwic2l6ZSIsInBhc3MiLCJmaXJzdCIsImhlYWQiLCJ0YWtlIiwiYXJyYXkiLCJ0YWlsIiwiZHJvcCIsImNvbXBhY3QiLCJCb29sZWFuIiwiZmxhdHRlbiIsImlucHV0Iiwic2hhbGxvdyIsInN0cmljdCIsIm91dHB1dCIsImlkeCIsImlzQXJndW1lbnRzIiwiaiIsImxlbiIsIndpdGhvdXQiLCJvdGhlckFycmF5cyIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJhcnJheXMiLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwidW56aXAiLCJ6aXAiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImZpbmRMYXN0SW5kZXgiLCJzb3J0ZWRJbmRleCIsImxvdyIsImhpZ2giLCJtaWQiLCJmbG9vciIsImNyZWF0ZUluZGV4RmluZGVyIiwicHJlZGljYXRlRmluZCIsImlzTmFOIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiY2h1bmsiLCJjb3VudCIsImV4ZWN1dGVCb3VuZCIsInNvdXJjZUZ1bmMiLCJib3VuZEZ1bmMiLCJjYWxsaW5nQ29udGV4dCIsIlR5cGVFcnJvciIsImJvdW5kIiwiY2FsbEFyZ3MiLCJjb25jYXQiLCJwYXJ0aWFsIiwiYm91bmRBcmdzIiwicGxhY2Vob2xkZXIiLCJwb3NpdGlvbiIsImJpbmRBbGwiLCJtZW1vaXplIiwiaGFzaGVyIiwiY2FjaGUiLCJhZGRyZXNzIiwiZGVsYXkiLCJ3YWl0IiwiZGVmZXIiLCJ0aHJvdHRsZSIsIm9wdGlvbnMiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJub3ciLCJ0aHJvdHRsZWQiLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsImNhbmNlbCIsImRlYm91bmNlIiwiaW1tZWRpYXRlIiwiZGVib3VuY2VkIiwiY2FsbE5vdyIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJiZWZvcmUiLCJvbmNlIiwiaGFzRW51bUJ1ZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibm9uRW51bWVyYWJsZVByb3BzIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwicHJvcCIsImFsbEtleXMiLCJtYXBPYmplY3QiLCJwYWlycyIsImludmVydCIsImZ1bmN0aW9ucyIsIm1ldGhvZHMiLCJuYW1lcyIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJkZWZhdWx0cyIsInNvdXJjZSIsImV4dGVuZE93biIsImFzc2lnbiIsImVxIiwiZGVlcEVxIiwia2V5SW5PYmoiLCJwaWNrIiwib21pdCIsIlN0cmluZyIsInByb3BzIiwidGFwIiwiaW50ZXJjZXB0b3IiLCJpc01hdGNoIiwiYVN0YWNrIiwiYlN0YWNrIiwidHlwZSIsImNsYXNzTmFtZSIsInZhbHVlT2YiLCJhcmVBcnJheXMiLCJhQ3RvciIsImJDdG9yIiwicG9wIiwiaXNFcXVhbCIsImlzRW1wdHkiLCJpc0VsZW1lbnQiLCJub2RlbGlzdCIsImRvY3VtZW50IiwiY2hpbGROb2RlcyIsIkludDhBcnJheSIsImlzRmluaXRlIiwiaXNTeW1ib2wiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiZ2V0VGltZSIsImVzY2FwZU1hcCIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsImAiLCJ1bmVzY2FwZU1hcCIsImNyZWF0ZUVzY2FwZXIiLCJlc2NhcGVyIiwiam9pbiIsInRlc3RSZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlUmVnZXhwIiwic3RyaW5nIiwidGVzdCIsInJlcGxhY2UiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImZhbGxiYWNrIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVSZWdFeHAiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwib2xkU2V0dGluZ3MiLCJyZW5kZXIiLCJvZmZzZXQiLCJ2YXJpYWJsZSIsIkZ1bmN0aW9uIiwiZSIsImFyZ3VtZW50IiwiY2hhaW4iLCJpbnN0YW5jZSIsIl9jaGFpbiIsImNoYWluUmVzdWx0IiwibWl4aW4iLCJ0b0pTT04iLCJfc2V0dGluZ3MiLCJwcm9taXNlUmVzb2x2ZSIsInByb21pc2VSZWplY3QiLCJ0b1Byb21pc2UiLCJuZXdQcm9taXNlIiwicmVzb2x2ZXIiLCJwcm9taXNlQWxsIiwicHJvbWlzZXMiLCJhcnIiLCJwcm9taXNlIiwic2VxdWVuY2VPZlByb21pc2VzIiwiZ2VuZXJhdG9yRm4iLCJjdHgiLCJfc2VxIiwic2VxdWVuY2VPZlByb21pc2VzVW50aWxsVmFsdWUiLCJjb25kaXRpb25GbiIsIndhaXRGb3IiLCJyZXNvdXJjZUZuIiwidGltZW91dE1pbGxpc2Vjb25kcyIsImludGVydmFsQ2hlY2tNaWxsaXNlY29uZHMiLCJ3YWl0VGltZSIsImRlZXBPbWl0IiwiYmxhY2tMaXN0IiwicGx1Y2tlZCIsImsiLCJyb3dzVG9Kc29uIiwiS2V5IiwiVmFsdWUiLCJyeFByb21pc2UiLCJvYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwidmFsIiwic2xlZXAiLCJtaWxsaXNlY29uZHMiLCJnIiwiZXZhbCIsIndpbmRvdyIsInV0aWxzXzEiLCJfc2VsZiIsImNoYW5uZWwiLCJwb3J0MiIsInBvcnQxIiwib25tZXNzYWdlIiwicmVmcmVzaFByaW5jaXBhbCIsInhodHRwIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwib3BlbiIsInNlbmQiLCJvbnRpbWVvdXQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFB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LEdBQ0w4TCxHQUNMLFNBQVVBLEdBR1osT0FGQTlMLEVBQUlLLFlBQVlqQixTQUFVLEVBQzFCa0IsRUFBWU4sR0FDTDBjLEVBQUFuQyxjQUFjek8sTUFJdkJuUSxFQUFBcWhCLGlCQUFBLFdBT0MsT0FBTzFjLEdBTE5MLFNBQVUvQixFQUFBaUIsVUFBVWMsU0FDcEJDLFdBQVloQyxFQUFBaUIsVUFBVWUsV0FDdEJFLFlBQWEsbUJBQ2JDLG9HQ2pERjFFLEVBQUFpSyxTQUFBLFNBQTBCcU0sR0FDekIsT0FBTyxJQUFJNVMsUUFBYSxTQUFDQyxFQUFTQyxHQUtqQyxPQUpLMFMsSUFDSkEsRUFBVSxLQUdKLElBQUk1UyxRQUFhLFNBQUNDLEVBQVNDLEdBQ2pDLElBQUkwZCxFQUFhLElBQUlDLGVBQ3JCRCxFQUFNaEwsUUFBVUEsRUFDaEJnTCxFQUFNRSxtQkFBcUIsV0FDRCxJQUFyQkYsRUFBTUcsYUFDWSxNQUFqQkgsRUFBTUksT0FDVC9kLElBRUFDLE1BSUgwZCxFQUFNSyxLQUFLLFVBQVcsK0NBQStDLEdBQ3JFTCxFQUFNTSxPQUVOTixFQUFNTyxVQUFZLFdBQ2pCLE9BQU9qZSxLQUdSMGQsRUFBTXJlLE1BQVEsU0FBQ0wsR0FDZCxPQUFPZ0IsT0FFTmtELEtBQUtuRCxFQUFTQyIsImZpbGUiOiJuZXRXb3JrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzkzKTtcbiIsImV4cG9ydCBpbnRlcmZhY2UgUHJpbmNpcGFsIHtcblx0dXNlclV1aWQ6IHN0cmluZyxcblx0dXNlck5hbWU/OiBzdHJpbmcsXG5cdHVzZXJFbWFpbD86IHN0cmluZyxcblx0YWRVc2VySWQ/OiBzdHJpbmcsXG5cdGFkQ2xpZW50SWQ/OiBzdHJpbmcsXG5cdGNvZ25pdG9JZGVudGl0eUlkPzogc3RyaW5nLFxuXHRjb2duaXRvSWRlbnRpdHlQb29sSWQ/OiBzdHJpbmcsXG5cdGFjY2Vzc1Rva2VuPzogc3RyaW5nLFxuXHRydGs/OiBzdHJpbmcsIC8vIHJlZnJlc2ggdG9rZW5cblx0cGluPzogc3RyaW5nLCAvLyB1c2VyIHBpblxuXHRsaW4/OiBzdHJpbmcsIC8vIGxvZ2luXG5cdHhfYXV0aF91c2VybmFtZT86IHN0cmluZyxcblx0eF9hdXRoX3JvbGVzPzogc3RyaW5nLFxuXHR1c2VyU1FTdXJsPzogc3RyaW5nIFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnJlbnRVc2VyIHtcblx0aWQ6IG51bWJlcixcblx0dXNlclV1aWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElXb3JrZXJNZXNzYWdlIHtcblx0d29ya2VySWQ6IGFueTtcblx0d29ya2VyTmFtZTogc3RyaW5nO1xuXHRkc3RXb3JrZXJJZD86IGFueTtcblx0ZHN0V29ya2VyTmFtZT86IGFueTtcblx0bWVzc2FnZU5hbWU6IHN0cmluZyxcblx0bWVzc2FnZURhdGE6IGFueVxufTtcblxuZXhwb3J0IGludGVyZmFjZSBXb3JrZXJDdHgge1xuXHR3b3JrZXJJZDogYW55LFxuXHR3b3JrZXJOYW1lOiBzdHJpbmcsXG5cdG9mZmxpbmU6IGJvb2xlYW4sXG5cdGRldmljZTogYW55LFxuXHRzZXR0aW5nczogYW55LFxuXHRhcHBWZXJzaW9uOiBzdHJpbmcsXG5cdGVudmlyb25tZW50OiBzdHJpbmcsXG5cdHByaW5jaXBhbDogUHJpbmNpcGFsLCBcbn1cblxuZXhwb3J0IGNvbnN0IExPR0dJTkdfV09SS0VSID0gJ2xvZ2dpbmdXb3JrZXInO1xuZXhwb3J0IGNvbnN0IE5FVF9XT1JLRVIgPSAnbmV0V29ya2VyJztcbmV4cG9ydCBjb25zdCBTUVNfV09SS0VSID0gJ3Nxc1dvcmtlcic7XG4iLCJpbXBvcnQgeyBJV29ya2VyTWVzc2FnZSB9IGZyb20gJy4uL2FwcC9zZXJ2aWNlcy90eXBlcyc7XG5pbXBvcnQgeyBMT0dHSU5HX1dPUktFUiB9IGZyb20gJy4uL2FwcC9zZXJ2aWNlcy90eXBlcyc7XG5pbXBvcnQgeyBzZW5kTWVzc2FnZSB9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7IHdvcmtlckN0eCB9IGZyb20gJy4vd29ya2VyQ3R4JztcblxuaW1wb3J0IHsgXyB9IGZyb20gJ3VuZGVyc2NvcmUnO1xuXG4vLyBOb3RlOiBUaGUgc2FtZSBpbnRlcmZhY2UgaXMgaW1wbGVtZW50ZWQgZm9yIHdvcmtlcnMgaW4gc3JjL2FwcC9zZXJ2aWNlcy9sb2dnZXIudHNcblxuZXhwb3J0IHZhciBsb2dnZXIgPSB7XG4gICAgbG9nOiBmdW5jdGlvbiAobWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnksIGF0dHJzPzogYW55KSB7XG4gICAgICAgIGxvZ2dlci5kb0xvZygnSU5GTycsIG1lc3NhZ2UsIGVyciwgYXR0cnMpO1xuICAgIH0sXG4gICAgaW5mbzogZnVuY3Rpb24gKG1lc3NhZ2U6IHN0cmluZywgZXJyPzogYW55LCBhdHRycz86IGFueSkge1xuICAgICAgICBsb2dnZXIuZG9Mb2coJ0lORk8nLCBtZXNzYWdlLCBlcnIsIGF0dHJzKTtcbiAgICB9LFxuICAgIGZhdGFsOiBmdW5jdGlvbiAobWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnksIGF0dHJzPzogYW55KSB7XG4gICAgICAgIGxvZ2dlci5kb0xvZygnRkFUQUwnLCBtZXNzYWdlLCBlcnIsIGF0dHJzKTtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAobWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnksIGF0dHJzPzogYW55KSB7XG4gICAgICAgIGxvZ2dlci5kb0xvZygnRVJST1InLCBtZXNzYWdlLCBlcnIsIGF0dHJzKTtcbiAgICB9LFxuICAgIGRlYnVnOiBmdW5jdGlvbiAobWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnksIGF0dHJzPzogYW55KSB7XG4gICAgICAgIGxvZ2dlci5kb0xvZygnREVCVUcnLCBtZXNzYWdlLCBlcnIsIGF0dHJzKTtcbiAgICB9LFxuICAgIHdhcm46IGZ1bmN0aW9uIChtZXNzYWdlOiBzdHJpbmcsIGVycj86IGFueSwgYXR0cnM/OiBhbnkpIHtcbiAgICAgICAgbG9nZ2VyLmRvTG9nKCdXQVJOJywgbWVzc2FnZSwgZXJyLCBhdHRycyk7XG4gICAgfSxcbiAgICB0cmFjZTogZnVuY3Rpb24gKG1lc3NhZ2U6IHN0cmluZywgZXJyPzogYW55LCBhdHRycz86IGFueSkge1xuICAgICAgICBsb2dnZXIuZG9Mb2coJ1RSQUNFJywgbWVzc2FnZSwgZXJyLCBhdHRycyk7XG4gICAgfSxcblxuICAgIGRvTG9nOiBmdW5jdGlvbiAobGV2ZWw6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBlcnI/OiBhbnksIGF0dHJzPzogYW55KSB7XG5cdFx0aWYgKGVycikge1xuXHRcdFx0bWVzc2FnZSA9IG1lc3NhZ2UgKyAnJyArIGVycjsgXG5cdFx0fVxuXHRcdHNlbmRPZmZsaW5lTG9nTWVzc2FnZShsZXZlbCwgbmV3IERhdGUoKSwgbWVzc2FnZSwgYXR0cnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2VuZE9mZmxpbmVMb2dNZXNzYWdlIChsZXZlbDogc3RyaW5nLCB0aW1lOiBEYXRlLCBtZXNzYWdlOiBzdHJpbmcsIGF0dHJzOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuXHR2YXIgcHJpbmNpcGFsID0gd29ya2VyQ3R4LnByaW5jaXBhbDtcblx0dmFyIG9mZmxpbmUgPSB3b3JrZXJDdHgub2ZmbGluZTtcblx0aWYoIWF0dHJzKSB7XG5cdFx0YXR0cnMgPSB7fTtcblx0fVxuXHRyZXR1cm4gbmV3IFByb21pc2U8YW55PiAoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGlmIChwcmluY2lwYWwpIHtcblx0XHRcdGF0dHJzID0gXy5leHRlbmQoYXR0cnMsIHsgXG5cdFx0XHRcdHVzZXJVdWlkOiBwcmluY2lwYWwudXNlclV1aWQsXG5cdFx0XHRcdHVzZXJOYW1lOiBwcmluY2lwYWwudXNlck5hbWUsXG5cdFx0XHRcdHVzZXJFbWFpbDogcHJpbmNpcGFsLnVzZXJFbWFpbCxcblx0XHRcdFx0YWRVc2VySWQ6IHByaW5jaXBhbC5hZFVzZXJJZCxcblx0XHRcdFx0YWRDbGllbnRJZDogcHJpbmNpcGFsLmFkQ2xpZW50SWQsXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cnMgPSBfLmV4dGVuZChhdHRycywgeyBcblx0XHRcdFx0dXNlclV1aWQ6ICd1bmtub3duJyxcblx0XHRcdFx0dXNlck5hbWU6ICd1bmtub3duJyxcblx0XHRcdFx0dXNlckVtYWlsOiAndW5rbm93bicsXG5cdFx0XHRcdGFkVXNlcklkOiAndW5rbm93bicsXG5cdFx0XHRcdGFkQ2xpZW50SWQ6ICd1bmtub3duJyxcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRhdHRycy5vZmZsaW5lID0gb2ZmbGluZTtcblxuXHRcdHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG5cblx0XHR2YXIgbXNnOiBJV29ya2VyTWVzc2FnZSA9IHtcblx0XHRcdHdvcmtlcklkOiB3b3JrZXJDdHgud29ya2VySWQsXG5cdFx0XHR3b3JrZXJOYW1lOiB3b3JrZXJDdHgud29ya2VyTmFtZSxcblx0XHRcdGRzdFdvcmtlck5hbWU6IExPR0dJTkdfV09SS0VSLCBcblx0XHRcdG1lc3NhZ2VOYW1lOiAnbG9nJyxcblx0XHRcdG1lc3NhZ2VEYXRhOiB7XG5cdFx0XHRcdGxldmVsOiBsZXZlbCxcblx0XHRcdFx0dGltZTogdGltZSxcblx0XHRcdFx0bWVzc2FnZTogbWVzc2FnZSxcblx0XHRcdFx0YXR0cnM6IGF0dHJzXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0c2VuZE1lc3NhZ2UobXNnKVxuXHRcdC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCd3b3JrZXJzL2xvZ2dlci5zZW5kT2ZmbGluZUxvZ01lc3NhZ2UoKTogJyArIGVycik7IFxuXHRcdH0pO1xuXHR9KTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsImltcG9ydCB7IElXb3JrZXJNZXNzYWdlICB9IGZyb20gJy4uL2FwcC9zZXJ2aWNlcy90eXBlcydcbmltcG9ydCB7IHNlbmRNZXNzYWdlIH0gZnJvbSAnLi9jb21tb24nO1xuaW1wb3J0IHsgd29ya2VyQ3R4LCBzZXR0aW5ncyB9IGZyb20gJy4vd29ya2VyQ3R4JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxudmFyIERFQlVHX1dPUktFUl9XRUJTUUwgPSBmYWxzZTtcblxudmFyIGRiSWRDb3VudGVyID0gMDtcbnZhciBkYnM6IGFueSA9IHt9O1xuXG5mdW5jdGlvbiByZXN1bHRJdGVtICh3b3JrZXJJZCwgZGIsIHRyeCwgc3FsLCByZXN1bHQpIHtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZVNxbCAod29ya2VySWQsIHdvcmtlck5hbWUsIGRiLCB0cngsIHNxbCwgYmluZGluZ3MsIHJlc3VsdEZuLCBlcnJGbikge1xuXHR0cnguc3FsSWRDb3VudGVyICs9IDE7XG5cblx0dmFyIF9zcWw6IGFueSA9IHt9O1xuXHRfc3FsLnNxbElkID0gdHJ4LnNxbElkQ291bnRlcjtcblx0X3NxbC5zcWwgPSBzcWw7XG5cdF9zcWwuYmluZGluZ3MgPSBiaW5kaW5ncztcblx0X3NxbC5yZXN1bHRGbiA9IHJlc3VsdEZuO1xuXHRfc3FsLmVyckZuID0gZXJyRm47XG5cblx0aWYgKHRyeC5zdGF0ZSAhPT0gJ29wZW5lZCcpIHtcblx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiBleGVjdXRlU3FsKCk6IHRyYW5zYWN0aW9uIGluIGlsbGVnYWxsIHN0YXRlICh0aGlzIG1pZ2h0IGJlIGNhdXNlZCBieSBjYWxsaW5nIGV4ZWN1dGVTcWwoKSByZWN1cnNpdmVseSBhZ2FpbiBpbnNpZGUgZXhlY3V0ZVNxbCgpIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tzJyk7XG5cdFx0Y29uc29sZS5lcnJvcignd2Vic3FsdzogZXhlY3V0ZVNxbCgpOiB0cmFuc2FjdGlvbiBpbiBpbGxlZ2FsbCBzdGF0ZSAodGhpcyBtaWdodCBiZSBjYXVzZWQgYnkgY2FsbGluZyBleGVjdXRlU3FsKCkgcmVjdXJzaXZlbHkgYWdhaW4gaW5zaWRlIGV4ZWN1dGVTcWwoKSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcycpO1xuXHRcdHRocm93IG5ldyBFcnJvcignd2Vic3FsdzogZXhlY3V0ZVNxbCgpOiB0cmFuc2FjdGlvbiBpbiBpbGxlZ2FsbCBzdGF0ZSAodGhpcyBtaWdodCBiZSBjYXVzZWQgYnkgY2FsbGluZyBleGVjdXRlU3FsKCkgcmVjdXJzaXZlbHkgYWdhaW4gaW5zaWRlIGV4ZWN1dGVTcWwoKSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcycpO1xuXHR9XG5cblx0dHJ4LnNxbHNbX3NxbC5zcWxJZF0gPSBfc3FsO1xuXG5cdHZhciBtc2c6IElXb3JrZXJNZXNzYWdlID0ge1xuXHRcdHdvcmtlcklkOiB3b3JrZXJJZCxcblx0XHR3b3JrZXJOYW1lOiB3b3JrZXJOYW1lLFxuXHRcdG1lc3NhZ2VOYW1lOiAnd2Vic3FsVHJhbnNhY3Rpb25FeGVjdXRlU3FsJyxcblx0XHRtZXNzYWdlRGF0YToge1xuXHRcdFx0ZGJJZDogZGIuZGJJZCxcblx0XHRcdHRyeElkOiB0cngudHJ4SWQsXG5cdFx0XHRzcWxJZDogX3NxbC5zcWxJZCxcblx0XHRcdHNxbDogc3FsLFxuXHRcdFx0YmluZGluZ3M6IGJpbmRpbmdzXG5cdFx0fVxuXHR9XG5cdHJldHVybiBzZW5kTWVzc2FnZShtc2cpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcblx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiB3ZWJzcWxUcmFuc2FjdGlvbkV4ZWN1dGVTcWwgcmVwbHk6IGVycm9yOiAnICsgZXJyKTtcblx0XHRsb2dnZXIuZXJyb3IoJ3dlYnNxbHc6IHdlYnNxbFRyYW5zYWN0aW9uRXhlY3V0ZVNxbCByZXBseTogZXJyb3I6ICcgKyBlcnIpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWFrZUV4dGVybmFsRXhlY3V0ZVNxbEZuICh3b3JrZXJJZCwgd29ya2VyTmFtZSwgZGIsIHRyeCkge1xuXHRyZXR1cm4gZnVuY3Rpb24gKHNxbCwgYmluZGluZ3MsIHJlc3VsdEZuLCBlcnJGbikge1xuXHRcdHJldHVybiBleGVjdXRlU3FsKHdvcmtlcklkLCB3b3JrZXJOYW1lLCBkYiwgdHJ4LCBzcWwsIGJpbmRpbmdzLCByZXN1bHRGbiwgZXJyRm4pO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHRyYW5zYWN0aW9uICh3b3JrZXJJZCwgd29ya2VyTmFtZSwgZGIsIHRyeEZuLCBlcnJGbiwgc3VjY2Vzc0ZuLCBjb250aW51ZU9uRXJyb3I/KSB7XG5cdHRyeSB7XG5cdFx0ZGIudHJ4SWRDb3VudGVyICs9IDE7XG5cblx0XHR2YXIgdHJ4OiBhbnkgPSB7fTtcblx0XHR0cngudHJ4SWQgPSBkYi50cnhJZENvdW50ZXI7XG5cdFx0dHJ4LmVyckZuID0gZXJyRm47XG5cdFx0dHJ4LnN1Y2Nlc3NGbiA9IHN1Y2Nlc3NGbjtcblx0XHR0cnguY29udGludWVPbkVycm9yID0gY29udGludWVPbkVycm9yO1xuXHRcdHRyeC5zcWxJZENvdW50ZXIgPSAwO1xuXHRcdHRyeC5zcWxzID0ge307XG5cdFx0dHJ4LmV4ZWN1dGVTcWwgPSBtYWtlRXh0ZXJuYWxFeGVjdXRlU3FsRm4od29ya2VySWQsIHdvcmtlck5hbWUsIGRiLCB0cngpO1xuXG5cdFx0ZGJzW2RiLmRiSWRdLnRyeHNbdHJ4LnRyeElkXSA9IHRyeDtcblxuXHRcdHZhciBtc2c6IElXb3JrZXJNZXNzYWdlID0ge1xuXHRcdFx0d29ya2VySWQ6IHdvcmtlcklkLFxuXHRcdFx0d29ya2VyTmFtZTogd29ya2VyTmFtZSxcblx0XHRcdG1lc3NhZ2VOYW1lOiAnd2Vic3FsVHJhbnNhY3Rpb24nLFxuXHRcdFx0bWVzc2FnZURhdGE6IHtcblx0XHRcdFx0ZGJJZDogZGIuZGJJZCxcblx0XHRcdFx0dHJ4SWQ6IHRyeC50cnhJZCxcblx0XHRcdFx0Y29udGludWVPbkVycm9yOiB0cnguY29udGludWVPbkVycm9yXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNlbmRNZXNzYWdlKG1zZykudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0cnguc3RhdGUgPSAnb3BlbmVkJztcblx0XHRcdFx0dHJ4Rm4odHJ4KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHR0cnguc3RhdGUgPSAnZXJyb3InO1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiBlcnJvciB3aGlsZSBjYWxsaW5nIHRyYW5zYWN0aW9uIGNhbGxiYWNrJyk7XG5cdFx0XHRcdGNvbnNvbGUuZGlyKGVycik7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcignd2Vic3FsdzogZXJyb3Igd2hpbGUgY2FsbGluZyB0cmFuc2FjdGlvbiBjYWxsYmFjaycsIGVycik7XG5cdFx0XHRcdG1zZyA9IHtcblx0XHRcdFx0XHR3b3JrZXJJZDogd29ya2VySWQsXG5cdFx0XHRcdFx0d29ya2VyTmFtZTogd29ya2VyTmFtZSxcblx0XHRcdFx0XHRtZXNzYWdlTmFtZTogJ3dlYnNxbFRyYW5zYWN0aW9uUmVtb3ZlJyxcblx0XHRcdFx0XHRtZXNzYWdlRGF0YToge1xuXHRcdFx0XHRcdFx0ZGJJZDogZGIuZGJJZCxcblx0XHRcdFx0XHRcdHRyeElkOiB0cngudHJ4SWQsXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHNlbmRNZXNzYWdlKG1zZykudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGVyckZuKHRyeCwgZXJyKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3dlYnNxbHc6IHRyYW5zYWN0aW9uOiBlcnJGbjogZXJyb3Igd2hpbGUgY2FsbGluZyB0cmFuc2FjdGlvbiBlcnJvciBjYWxsYmFjaycpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kaXIoZXJyKTtcblx0XHRcdFx0XHRcdGxvZ2dlci5lcnJvcignd2Vic3FsdzogdHJhbnNhY3Rpb246IGVyckZuOiBlcnJvciB3aGlsZSBjYWxsaW5nIHRyYW5zYWN0aW9uIGVycm9yIGNhbGxiYWNrJywgZXJyKTtcblx0XHRcdFx0XHRcdGRlbGV0ZSBkYnNbZGIuZGJJZF0udHJ4c1t0cngudHJ4SWRdO1xuXHRcdFx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkZWxldGUgZGJzW2RiLmRiSWRdLnRyeHNbdHJ4LnRyeElkXTtcblx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3dlYnNxbHc6IHdlYnNxbFRyYW5zYWN0aW9uUmVtb3ZlIHJlcGx5OiBlcnJvcjogJyArIGVycik7XG5cdFx0XHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiB3ZWJzcWxUcmFuc2FjdGlvblJlbW92ZSByZXBseTogZXJyb3I6ICcgKyBlcnIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdG1zZyA9IHtcblx0XHRcdFx0d29ya2VySWQ6IHdvcmtlcklkLFxuXHRcdFx0XHR3b3JrZXJOYW1lOiB3b3JrZXJOYW1lLFxuXHRcdFx0XHRtZXNzYWdlTmFtZTogJ3dlYnNxbFRyYW5zYWN0aW9uRXhlY3V0ZScsXG5cdFx0XHRcdG1lc3NhZ2VEYXRhOiB7XG5cdFx0XHRcdFx0ZGJJZDogZGIuZGJJZCxcblx0XHRcdFx0XHR0cnhJZDogdHJ4LnRyeElkLFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzZW5kTWVzc2FnZShtc2cpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0cnguc3RhdGUgPSAnZXhlY3V0aW5nJztcblx0XHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdFx0dHJ4LnN0YXRlID0gJ2Vycm9yJztcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiB3ZWJzcWxUcmFuc2FjdGlvbkV4ZWN1dGUgcmVwbHk6IGVycm9yOiAnICsgZXJyKTtcblx0XHRcdFx0XHRsb2dnZXIuZXJyb3IoJ3dlYnNxbHc6IHdlYnNxbFRyYW5zYWN0aW9uRXhlY3V0ZSByZXBseTogZXJyb3I6ICcgKyBlcnIpO1xuXHRcdFx0XHRcdGVyckZuKGVycik7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3dlYnNxbHc6IHRyYW5zYWN0aW9uOiBlcnJGbjogZXJyb3Igd2hpbGUgY2FsbGluZyB0cmFuc2FjdGlvbiBlcnJvciBjYWxsYmFjaycpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGlyKGVycik7XG5cdFx0XHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiB0cmFuc2FjdGlvbjogZXJyRm46IGVycm9yIHdoaWxlIGNhbGxpbmcgdHJhbnNhY3Rpb24gZXJyb3IgY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHRcdGRlbGV0ZSBkYnNbZGIuZGJJZF0udHJ4c1t0cngudHJ4SWRdO1xuXHRcdFx0XHRcdHRocm93IGVycjtcblx0XHRcdFx0fVxuXHRcdFx0XHRkZWxldGUgZGJzW2RiLmRiSWRdLnRyeHNbdHJ4LnRyeElkXTtcblx0XHRcdH0pO1xuXHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdHRyeC5zdGF0ZSA9ICdlcnJvcic7XG5cdFx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiB3ZWJzcWxUcmFuc2FjdGlvbiByZXBseTogZXJyb3I6ICcgKyBlcnIpO1xuXHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiB3ZWJzcWxUcmFuc2FjdGlvbiByZXBseTogZXJyb3I6ICcgKyBlcnIpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZXJyRm4oZXJyKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiB0cmFuc2FjdGlvbjogZXJyRm46IGVycm9yIHdoaWxlIGNhbGxpbmcgdHJhbnNhY3Rpb24gZXJyb3IgY2FsbGJhY2snKTtcblx0XHRcdFx0Y29uc29sZS5kaXIoZXJyKTtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiB0cmFuc2FjdGlvbjogZXJyRm46IGVycm9yIHdoaWxlIGNhbGxpbmcgdHJhbnNhY3Rpb24gZXJyb3IgY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHRkZWxldGUgZGJzW2RiLmRiSWRdLnRyeHNbdHJ4LnRyeElkXTtcblx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIGRic1tkYi5kYklkXS50cnhzW3RyeC50cnhJZF07XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ3dlYnNxbHc6IHRyYW5zYWN0aW9uOiBlcnJvcjogJyk7XG5cdFx0Y29uc29sZS5kaXIoZXJyKTtcblx0XHRsb2dnZXIuZXJyb3IoJ3dlYnNxbHc6IHRyYW5zYWN0aW9uOiBlcnJvcjogJywgZXJyKTtcblx0XHR0aHJvdyBlcnI7XG5cdH1cbn1cblxuZnVuY3Rpb24gbWFrZUV4dGVybmFsVHJhbnNhY3Rpb25GbiAod29ya2VySWQsIHdvcmtlck5hbWUsIGRiKSB7XG5cdHJldHVybiBmdW5jdGlvbiAodHJ4Rm4sIGVyckZuLCBzdWNjZXNzRm4sIGNvbnRpbnVlT25FcnJvcikge1xuXHRcdHJldHVybiB0cmFuc2FjdGlvbiAod29ya2VySWQsIHdvcmtlck5hbWUsIGRiLCB0cnhGbiwgZXJyRm4sIHN1Y2Nlc3NGbiwgY29udGludWVPbkVycm9yKTtcblx0fVxufVxuXG5mdW5jdGlvbiBleGVjdXRlIChkYiwgc3FsLCBiaW5kaW5nKSA6IFByb21pc2U8YW55PiB7XG5cdHZhciB3b3JrZXJTdHIgPSAnJyArIHdvcmtlckN0eC53b3JrZXJOYW1lICsgJygnICsgd29ya2VyQ3R4LndvcmtlcklkICsgJyknO1xuXHRpZiAoc2V0dGluZ3Muc2V0dGluZ3MuaXNEZWJ1ZyAmJiBzZXR0aW5ncy5zZXR0aW5ncy5pc0RlYnVnRGF0YWJhc2UpIHtcblx0XHRjb25zb2xlLmRlYnVnKHdvcmtlclN0ciArICcgOmRhdGFiYXNlLmV4ZWN1dGU6ICcgKyBzcWwpO1xuXHR9XG5cdHZhciBleGNldXRlZCA9IGZhbHNlO1xuXHR2YXIgZXhlY3V0ZWRPaztcblx0cmV0dXJuIG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGRiLnRyYW5zYWN0aW9uKCh0eCkgPT4ge1xuXHRcdFx0dHguZXhlY3V0ZVNxbChzcWwsIGJpbmRpbmcsICh0eCwgcmVzdWx0cykgPT4ge1xuXHRcdFx0XHRleGNldXRlZCA9IHRydWU7XG5cdFx0XHRcdGV4ZWN1dGVkT2sgPSB0cnVlO1xuXHRcdFx0XHRyZXNvbHZlKHJlc3VsdHMpO1xuXHRcdFx0fSwgKHR4LCBlcnIpID0+IHtcblx0XHRcdFx0ZXhjZXV0ZWQgPSB0cnVlO1xuXHRcdFx0XHRleGVjdXRlZE9rID0gZmFsc2U7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3Iod29ya2VyU3RyICsgJyA6ZGF0YWJhc2UuZXhlY3V0ZTogdHguZXhlY3V0ZVNxbDogJyArIGVycik7XG5cdFx0XHRcdGNvbnNvbGUuZGlyKGVycik7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcih3b3JrZXJTdHIgKycgOmRhdGFiYXNlLmV4ZWN1dGU6IHR4LmV4ZWN1dGVTcWw6ICcgKyBlcnIsIGVyciwge2V2ZW50OiAnU1FMJ30pO1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0sIChlcnIpID0+IHtcblx0XHRcdGlmICghZXhjZXV0ZWQpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcih3b3JrZXJTdHIgKyAnIDpkYXRhYmFzZS5leGVjdXRlOiBpbnRlcm5hbCBlcnJvcjogc3FsIHdhcyBub3QgZXhlY3V0ZWQnKTtcblx0XHRcdFx0ZXJyID0gbmV3IEVycm9yKHdvcmtlclN0ciArICcgOmRhdGFiYXNlLmV4ZWN1dGU6IGludGVybmFsIGVycm9yOiBzcWwgd2FzIG5vdCBleGVjdXRlZCcpO1xuXHRcdFx0XHRsb2dnZXIuZXJyb3Iod29ya2VyU3RyICsgJyA6ZGF0YWJhc2UuZXhlY3V0ZTogdHJhbnNhY3Rpb246ICcgKyBlcnIsIGVyciwge2V2ZW50OiAnU1FMJ30pO1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGV4ZWN1dGVkT2spIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcih3b3JrZXJTdHIgKyAnIDpkYXRhYmFzZS5leGVjdXRlOiBpbnRlcm5hbCBlcnJvcicpO1xuXHRcdFx0XHRlcnIgPSBuZXcgRXJyb3Iod29ya2VyU3RyICsgJyA6ZGF0YWJhc2UuZXhlY3V0ZTogaW50ZXJuYWwgZXJyb3InKTtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKHdvcmtlclN0ciArICcgOmRhdGFiYXNlLmV4ZWN1dGU6IHRyYW5zYWN0aW9uOiAnICsgZXJyLCBlcnIsIHtldmVudDogJ1NRTCd9KTtcblx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUuZXJyb3Iod29ya2VyU3RyICsgJyA6ZGF0YWJhc2UuZXhlY3V0ZTogdHJhbnNhY3Rpb246ICcgKyBlcnIpO1xuXHRcdFx0Y29uc29sZS5kaXIoZXJyKTtcblx0XHRcdGxvZ2dlci5lcnJvcih3b3JrZXJTdHIgKyAnIDpkYXRhYmFzZS5leGVjdXRlOiB0cmFuc2FjdGlvbjogJyArIGVyciwgZXJyLCB7ZXZlbnQ6ICdTUUwnfSk7XG5cdFx0fSwgKCkgPT4ge1xuXHRcdFx0dmFyIGVycjtcblx0XHRcdGlmICghZXhjZXV0ZWQpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcih3b3JrZXJTdHIgKyAnIDpkYXRhYmFzZS5leGVjdXRlOiBpbnRlcm5hbCBlcnJvcjogc3FsIHdhcyBub3QgZXhlY3V0ZWQnKTtcblx0XHRcdFx0ZXJyID0gbmV3IEVycm9yKHdvcmtlclN0ciArICcgOmRhdGFiYXNlLmV4ZWN1dGU6IGludGVybmFsIGVycm9yOiBzcWwgd2FzIG5vdCBleGVjdXRlZCcpO1xuXHRcdFx0XHRsb2dnZXIuZXJyb3Iod29ya2VyU3RyICsgJyA6ZGF0YWJhc2UuZXhlY3V0ZTogdHJhbnNhY3Rpb246ICcgKyBlcnIsIGVyciwge2V2ZW50OiAnU1FMJ30pO1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFleGVjdXRlZE9rKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3Iod29ya2VyU3RyICsgJyA6ZGF0YWJhc2UuZXhlY3V0ZTogaW50ZXJuYWwgZXJyb3InKTtcblx0XHRcdFx0ZXJyID0gbmV3IEVycm9yKHdvcmtlclN0ciArICcgOmRhdGFiYXNlLmV4ZWN1dGU6IGludGVybmFsIGVycm9yJyk7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcih3b3JrZXJTdHIgKyAnIDpkYXRhYmFzZS5leGVjdXRlOiB0cmFuc2FjdGlvbjogJyArIGVyciwgZXJyLCB7ZXZlbnQ6ICdTUUwnfSk7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuZnVuY3Rpb24gX29wZW5EYXRhYmFzZSAoY2FsbGJhY2tGbikge1xuXHRkYklkQ291bnRlciArPSAxO1xuXG5cdHZhciBkYjogYW55ID0ge307XG5cdGRiLmRiSWQgPSBkYklkQ291bnRlcjtcblx0ZGIudHJ4SWRDb3VudGVyID0gMDtcblx0ZGIudHJ4cyA9IHt9O1xuXHRkYi50cmFuc2FjdGlvbiA9IG1ha2VFeHRlcm5hbFRyYW5zYWN0aW9uRm4od29ya2VyQ3R4LndvcmtlcklkLCB3b3JrZXJDdHgud29ya2VyTmFtZSwgZGIpOyBcblx0ZGIuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0ZGVsZXRlIGRic1tkYi5kYklkXTtcblx0fTtcblx0ZGIuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzcWwsIGJpbmRpbmcpIHtcblx0XHRyZXR1cm4gZXhlY3V0ZShkYiwgc3FsLCBiaW5kaW5nKTtcblx0fTtcblxuXHR2YXIgbXNnOiBJV29ya2VyTWVzc2FnZSA9IHtcblx0XHR3b3JrZXJJZDogd29ya2VyQ3R4LndvcmtlcklkLFxuXHRcdHdvcmtlck5hbWU6IHdvcmtlckN0eC53b3JrZXJOYW1lLFxuXHRcdG1lc3NhZ2VOYW1lOiAnd2Vic3FsRGF0YWJzZScsXG5cdFx0bWVzc2FnZURhdGE6IHtcblx0XHRcdGRiSWQ6IGRiLmRiSWRcblx0XHR9XG5cdH1cblx0cmV0dXJuIHNlbmRNZXNzYWdlKG1zZykudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0ZGJzW2RiLmRiSWRdID0gZGI7XG5cdFx0Y2FsbGJhY2tGbih1bmRlZmluZWQsIGRiKTtcblx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdGNhbGxiYWNrRm4oZXJyKTtcblx0fSlcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuVG9FdmVuZXRzIChldmVudCkgeyAgLy8gcmV0dXJucyB0cnVlIGlmIHJlcGx5IHdhcyBzZW50IGJhY2sgdG8gbWFpbiB0aHJlYWQsIGkuZS4gaWYgZXZlbnQgd2FzIHByb2Nlc3NlZFxuXHR2YXIgZXJyO1xuXHR2YXIgcmVzdWx0O1xuXG5cdHZhciBtc2c6IElXb3JrZXJNZXNzYWdlID0gZXZlbnQuZGF0YTtcblx0dmFyIGRiSWQ7XG5cdHZhciBkYjtcblx0dmFyIHRyeElkO1xuXHR2YXIgdHJ4O1xuXHR2YXIgc3FsSWQ7XG5cdHZhciBzcWw7XG5cblx0aWYgKERFQlVHX1dPUktFUl9XRUJTUUwpIHtcblx0XHRjb25zb2xlLmxvZygnd2Vic3FsdzogJyArIG1zZy5tZXNzYWdlTmFtZSk7XG5cdFx0Y29uc29sZS5sb2coJ2RiSWQ6ICcgKyBtc2cubWVzc2FnZURhdGEuZGJJZCk7XG5cdFx0Y29uc29sZS5sb2coJ3RyeElkOiAnICsgbXNnLm1lc3NhZ2VEYXRhLnRyeElkKTtcblx0XHRjb25zb2xlLmxvZygnc3FsSWQ6ICcgKyBtc2cubWVzc2FnZURhdGEuc3FsSWQpO1xuXHR9XG5cblx0dHJ5IHtcblxuXHRcdGlmICgnd2Vic3FsVHJhbnNhY3Rpb25FeGVjdXRlU3FsUmVzdWx0U3VjY2VzcycgPT09IG1zZy5tZXNzYWdlTmFtZSkge1xuXHRcdFx0ZGJJZCA9IG1zZy5tZXNzYWdlRGF0YS5kYklkO1xuXHRcdFx0ZGIgPSBkYnNbZGJJZF07XG5cdFx0XHR0cnhJZCA9IG1zZy5tZXNzYWdlRGF0YS50cnhJZDtcblx0XHRcdHRyeCA9IGRiLnRyeHNbdHJ4SWRdO1xuXHRcdFx0c3FsSWQgPSBtc2cubWVzc2FnZURhdGEuc3FsSWQ7XG5cdFx0XHRzcWwgPSB0cnguc3Fsc1tzcWxJZF07XG5cdFx0XHRzcWwucmVzdWx0ID0gIG1zZy5tZXNzYWdlRGF0YS5yZXN1bHQ7XG5cdFx0XHRzcWwucmVzdWx0LnJvd3MuaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG5cdFx0XHRcdGlmIChpIDwgc3FsLnJlc3VsdC5yb3dzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBzcWwucmVzdWx0LnJvd3NbaV07XG5cdFx0XHRcdH0gXG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzcWwucmVzdWx0Rm4odHJ4LCBzcWwucmVzdWx0KTtcblx0XHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe30pO1xuXHRcdFx0XHR0cnguc3Fsc1tzcWxJZF0gPSBudWxsO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignd2Vic3FsdzogZXJyb3Igd2hpbGUgY2FsbGluZyBleGVjdXRlU3FsIHN1Y2Nlc3MgY2FsbGJhY2snKTtcblx0XHRcdFx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdFx0XHRcdGxvZ2dlci5lcnJvcignd2Vic3FsdzogZXJyb3Igd2hpbGUgY2FsbGluZyBleGVjdXRlU3FsIHN1Y2Nlc3MgY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHRcdHNxbC5lcnIgPSBlcnI7XG5cdFx0XHRcdFx0cmVzdWx0ID0gc3FsLmVyckZuKHRyeCwgc3FsLmVycik7XG5cdFx0XHRcdFx0aWYgKGZhbHNlID09PSByZXN1bHQpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3dlYnNxbHc6IGVycm9yOiBleGVjdXRlU3FsKCkgZXJyb3IgY2FsbGJhY2sgXCJmYWxzZVwiIHJldHVybiB2YWx1ZSBub3Qgc3VwcG9ydGVkLCB1c2UgaW5zdGVhZCBcImNvbnRpbnVlT25FcnJvclwiIG9wdGlvbmFsIHBhcmFtZXRlciBmb3IgdHJhbnNhY3Rpb24oKSBjYWxsJyk7XG5cdFx0XHRcdFx0XHRsb2dnZXIuZXJyb3IoJ3dlYnNxbHc6IGVycm9yOiBleGVjdXRlU3FsKCkgZXJyb3IgY2FsbGJhY2sgXCJmYWxzZVwiIHJldHVybiB2YWx1ZSBub3Qgc3VwcG9ydGVkLCB1c2UgaW5zdGVhZCBcImNvbnRpbnVlT25FcnJvclwiIG9wdGlvbmFsIHBhcmFtZXRlciBmb3IgdHJhbnNhY3Rpb24oKSBjYWxsJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0XHRcdGVycjogJycgKyBlcnJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0cnguc3Fsc1tzcWxJZF0gPSBudWxsO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignd2Vic3FsdzogZXJyb3Igd2hpbGUgY2FsbGluZyBleGVjdXRlU3FsIGVycm9yIGNhbGxiYWNrJyk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdFx0XHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiBlcnJvciB3aGlsZSBjYWxsaW5nIGV4ZWN1dGVTcWwgZXJyb3IgY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0XHRcdFx0XHRlcnI6ICcnICsgZXJyXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRyeC5zcWxzW3NxbElkXSA9IG51bGw7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7XG5cdFx0XHRcdFx0XHRcdGVycjogJycgKyBlcnIsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHRyeC5zcWxzW3NxbElkXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH0gXG5cdFx0aWYgKCd3ZWJzcWxUcmFuc2FjdGlvbkV4ZWN1dGVTcWxSZXN1bHRFcnJvcicgPT09IG1zZy5tZXNzYWdlTmFtZSkge1xuXHRcdFx0ZGJJZCA9IG1zZy5tZXNzYWdlRGF0YS5kYklkO1xuXHRcdFx0ZGIgPSBkYnNbZGJJZF07XG5cdFx0XHR0cnhJZCA9IG1zZy5tZXNzYWdlRGF0YS50cnhJZDtcblx0XHRcdHRyeCA9IGRiLnRyeHNbdHJ4SWRdO1xuXHRcdFx0c3FsSWQgPSBtc2cubWVzc2FnZURhdGEuc3FsSWQ7XG5cdFx0XHRzcWwgPSB0cnguc3Fsc1tzcWxJZF07XG5cdFx0XHRzcWwuZXJyID0gbXNnLm1lc3NhZ2VEYXRhLmVycjtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJlc3VsdCA9IHNxbC5lcnJGbih0cngsIHNxbC5lcnIpO1xuXHRcdFx0XHRpZiAoZmFsc2UgPT09IHJlc3VsdCkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3dlYnNxbHc6IGVycm9yOiBleGVjdXRlU3FsKCkgZXJyb3IgY2FsbGJhY2sgXCJmYWxzZVwiIHJldHVybiB2YWx1ZSBub3Qgc3VwcG9ydGVkLCB1c2UgaW5zdGVhZCBcImNvbnRpbnVlT25FcnJvclwiIG9wdGlvbmFsIHBhcmFtZXRlciBmb3IgdHJhbnNhY3Rpb24oKSBjYWxsJyk7XG5cdFx0XHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiBlcnJvcjogZXhlY3V0ZVNxbCgpIGVycm9yIGNhbGxiYWNrIFwiZmFsc2VcIiByZXR1cm4gdmFsdWUgbm90IHN1cHBvcnRlZCwgdXNlIGluc3RlYWQgXCJjb250aW51ZU9uRXJyb3JcIiBvcHRpb25hbCBwYXJhbWV0ZXIgZm9yIHRyYW5zYWN0aW9uKCkgY2FsbCcpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHt9KTtcblx0XHRcdFx0dHJ4LnNxbHNbc3FsSWRdID0gbnVsbDtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCd3ZWJzcWx3OiBlcnJvciB3aGlsZSBjYWxsaW5nIGV4ZWN1dGVTcWwgZXJyb3IgY2FsbGJhY2snKTtcblx0XHRcdFx0Y29uc29sZS5kaXIoZXJyKTtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKCd3ZWJzcWx3OiBlcnJvciB3aGlsZSBjYWxsaW5nIGV4ZWN1dGVTcWwgZXJyb3IgY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHRldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7fSk7XG5cdFx0XHRcdHRyeC5zcWxzW3NxbElkXSA9IG51bGw7XG5cdFx0XHRcdHRocm93IGVycjtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICgnd2Vic3FsVHJhbnNhY3Rpb25SZXN1bHRFcnJvcicgPT09IG1zZy5tZXNzYWdlTmFtZSkge1xuXHRcdFx0ZGJJZCA9IG1zZy5tZXNzYWdlRGF0YS5kYklkO1xuXHRcdFx0ZGIgPSBkYnNbZGJJZF07XG5cdFx0XHR0cnhJZCA9IG1zZy5tZXNzYWdlRGF0YS50cnhJZDtcblx0XHRcdHRyeCA9IGRiLnRyeHNbdHJ4SWRdO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dHJ4LmVyckZuKG1zZy5tZXNzYWdlRGF0YS5lcnIpO1xuXHRcdFx0XHRldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7fSk7XG5cdFx0XHRcdGRlbGV0ZSBkYi50cnhzW3RyeElkXTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7fSk7XG5cdFx0XHRcdGRlbGV0ZSBkYi50cnhzW3RyeElkXTtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignd2Vic3FsdzogZXJyb3Igd2hpbGUgY2FsbGluZyB0cmFuc2FjdGlvbiBjYWxsYmFjaycpO1xuXHRcdFx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoJ3dlYnNxbHc6IGVycm9yIHdoaWxlIGNhbGxpbmcgdHJhbnNhY3Rpb24gY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoJ3dlYnNxbFRyYW5zYWN0aW9uUmVzdWx0U3VjY2VzcycgPT09IG1zZy5tZXNzYWdlTmFtZSkge1xuXHRcdFx0ZGJJZCA9IG1zZy5tZXNzYWdlRGF0YS5kYklkO1xuXHRcdFx0ZGIgPSBkYnNbZGJJZF07XG5cdFx0XHR0cnhJZCA9IG1zZy5tZXNzYWdlRGF0YS50cnhJZDtcblx0XHRcdHRyeCA9IGRiLnRyeHNbdHJ4SWRdO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dHJ4LnN1Y2Nlc3NGbigpO1xuXHRcdFx0XHRldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7fSk7XG5cdFx0XHRcdGRlbGV0ZSBkYi50cnhzW3RyeElkXTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7fSk7XG5cdFx0XHRcdGRlbGV0ZSBkYi50cnhzW3RyeElkXTtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignd2Vic3FsdzogZXJyb3Igd2hpbGUgY2FsbGluZyB0cmFuc2FjdGlvbiBjYWxsYmFjaycpO1xuXHRcdFx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoJ3dlYnNxbHc6IGVycm9yIHdoaWxlIGNhbGxpbmcgdHJhbnNhY3Rpb24gY2FsbGJhY2snLCBlcnIpO1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5lcnJvcignd2Vic3FsdzogZXJyb3I6ICcpO1xuXHRcdGNvbnNvbGUuZGlyKGVycik7XG5cdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0ZXJyOiAnJyArIGVyclxuXHRcdH0pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59OyAgICBcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EYXRhYmFzZSAoKTogUHJvbWlzZTxhbnk+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlPGFueT4gKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRfb3BlbkRhdGFiYXNlKGZ1bmN0aW9uIChlcnIsIGRiKSB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJlamVjdChlcnIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNvbHZlKGRiKVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cbiIsImltcG9ydCB7IHByb21pc2VSZWplY3QgfSBmcm9tICcuLi9hcHAvY29tbW9uL3V0aWxzJztcbmltcG9ydCB7IElXb3JrZXJNZXNzYWdlLCBXb3JrZXJDdHggfSAgZnJvbSAnLi4vYXBwL3NlcnZpY2VzL3R5cGVzJztcbmltcG9ydCB7IE5FVF9XT1JLRVIgfSAgZnJvbSAnLi4vYXBwL3NlcnZpY2VzL3R5cGVzJztcbmltcG9ydCB7IHBpbmdIdHRwIGFzIGJhc2VQaW5nSHR0cCB9IGZyb20gJy4vLi4vYXBwL3NlcnZpY2VzL3BpbmdodHRwJztcbmltcG9ydCB7IHdvcmtlckN0eCwgc2V0U2V0dGluZ3MgfSBmcm9tICcuL3dvcmtlckN0eCc7XG5pbXBvcnQgeyBsaXN0ZW5Ub0V2ZW5ldHMgYXMgbGlzdGVuVG9FdmVuZXRzV2Vic3FsIH0gZnJvbSAnLi93ZWJzcWx3JztcbmltcG9ydCB7IFByaW5jaXBhbCB9IGZyb20gJy4uL2FwcC9zZXJ2aWNlcy90eXBlcyc7XG5cbnZhciBERUJVR19XT1JLRVIgPSBmYWxzZTtcblxudmFyIF9zZWxmOiBhbnkgPSBzZWxmO1xuXG5leHBvcnQgZnVuY3Rpb24gYm9vdFdvcmtlciAobWVzc2FnZUhhbmRsZXJGbiwgc3RhcnR1cEZuPykge1xuXG5cdHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgeyAgICAgXG5cdFx0dmFyIG1zZzogSVdvcmtlck1lc3NhZ2UgPSBldmVudC5kYXRhO1xuXHRcdHZhciBlcnI7XG5cdFx0dmFyIHN0YXJ0dXBDYWxsZWQgPSBmYWxzZTtcblxuXG5cdFx0aWYgKERFQlVHX1dPUktFUikge1xuXHRcdFx0Y29uc29sZS5sb2coJ3dvcmtlcjogJyArIG1zZy53b3JrZXJOYW1lICsgJzogJyArIG1zZy5tZXNzYWdlTmFtZSk7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblxuXHRcdFx0aWYgKCd3b3JrZXJJZCcgPT09IG1zZy5tZXNzYWdlTmFtZSkge1xuXHRcdFx0XHR3b3JrZXJDdHgud29ya2VySWQgPSBtc2cubWVzc2FnZURhdGEud29ya2VySWQ7XG5cdFx0XHRcdHdvcmtlckN0eC53b3JrZXJOYW1lID0gbXNnLndvcmtlck5hbWU7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCd3b3JrZXI6ICcgKyBtc2cud29ya2VyTmFtZSArICc6ICcgKyB3b3JrZXJDdHgud29ya2VySWQgKyAnIDonICsgJ3N0YXJ0ZWQnKTtcblx0XHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0XHRcdHdvcmtlcklkOiB3b3JrZXJDdHgud29ya2VySWRcblx0XHRcdFx0fSk7IFxuXHRcdFx0XHRpZiAoc3RhcnR1cEZuKSB7XG5cdFx0XHRcdFx0aWYgKCFzdGFydHVwQ2FsbGVkKSB7XG5cdFx0XHRcdFx0XHRzdGFydHVwQ2FsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHN0YXJ0dXBGbigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IFxuXG5cdFx0XHRpZiAoISgod29ya2VyQ3R4LndvcmtlcklkID09PSBtc2cud29ya2VySWQpIC8vIHRoaXMgaXMgbWVzc2FnZSBjb21taW5nIGZyb20gbWFpbiB0aHJlYWQgaGFuZGxlciBmb3IgdGhpcyB3b3JrZXIgXG5cdFx0XHRcdHx8ICh3b3JrZXJDdHgud29ya2VySWQgPT09IG1zZy5kc3RXb3JrZXJJZCkpKSB7IC8vIHRoaXMgaXMgbWVzc2FnZSBmcm9tIG90aGVyIHdvcmtlciBmb3IgdGhpcyB3b3JrZXIgZm9yd2FyZGVkIHRvIHRoaXMgd29ya2VyIGJ5IG1haW4gdGhyZWFkIGhhbmRsZXIgZm9yIG90aGVyIHdvcmtlciwgc2VlOiBhcHAvc2VydmljZXMvd29ya2VyLnRzIGZvcndhcmRNZXNzYWdlVG9Xb3JrZXIoKVxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCd3b3JrZXJzL3dvcmtlcjogd29ya2VySWQgZGlmZmVycycpO1xuXHRcdFx0XHRlcnIgPSBuZXcgRXJyb3IoJ3dvcmtlcnMvd29ya2VyOiB3b3JrZXJJZCBkaWZmZXJzJyk7XG5cdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0XHRlcnI6ICcnICsgZXJyXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICgnc2V0dGluZ3MnID09PSBtc2cubWVzc2FnZU5hbWUpIHtcblx0XHRcdFx0c2V0U2V0dGluZ3MobXNnLm1lc3NhZ2VEYXRhLnNldHRpbmdzKTtcblx0XHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe30pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IFxuXHRcdFx0aWYgKCdvZmZsaW5lJyA9PT0gbXNnLm1lc3NhZ2VOYW1lKSB7XG5cdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHt9KTtcblx0XHRcdFx0d29ya2VyQ3R4Lm9mZmxpbmUgPSBtc2cubWVzc2FnZURhdGEub2ZmbGluZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBcblx0XHRcdGlmICgnZGV2aWNlJyA9PT0gbXNnLm1lc3NhZ2VOYW1lKSB7XG5cdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHt9KTtcblx0XHRcdFx0d29ya2VyQ3R4LmRldmljZSA9IG1zZy5tZXNzYWdlRGF0YS5kZXZpY2U7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gXG5cdFx0XHRpZiAoJ2FwcFZlcnNpb24nID09PSBtc2cubWVzc2FnZU5hbWUpIHtcblx0XHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe30pO1xuXHRcdFx0XHR3b3JrZXJDdHguYXBwVmVyc2lvbiA9IG1zZy5tZXNzYWdlRGF0YS5hcHBWZXJzaW9uO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoJ2Vudmlyb25tZW50JyA9PT0gbXNnLm1lc3NhZ2VOYW1lKSB7XG5cdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHt9KTtcblx0XHRcdFx0d29ya2VyQ3R4LmVudmlyb25tZW50ID0gbXNnLm1lc3NhZ2VEYXRhLmVudmlyb25tZW50XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICgncHJpbmNpcGFsJyA9PT0gbXNnLm1lc3NhZ2VOYW1lKSB7XG5cdFx0XHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHt9KTtcblx0XHRcdFx0d29ya2VyQ3R4LnByaW5jaXBhbCA9IG1zZy5tZXNzYWdlRGF0YS5wcmluY2lwYWw7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGxpc3RlblRvRXZlbmV0c1dlYnNxbChldmVudCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobWVzc2FnZUhhbmRsZXJGbihldmVudCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCd3b3JrZXJDb21tb246IGxpc3RlblRvRXZlbmV0cygpOiBlcnJvcjogJyk7XG5cdFx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0XHRlcnI6ICcnICsgZXJyXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pOyAgICBcbn1cbiIsImltcG9ydCB7IElXb3JrZXJNZXNzYWdlIH0gZnJvbSAnLi4vYXBwL3NlcnZpY2VzL3R5cGVzJztcbmltcG9ydCB7IHNlbmRNZXNzYWdlIH0gZnJvbSAnLi9jb21tb24nO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuL3dvcmtlckN0eCc7XG5pbXBvcnQgeyB3b3JrZXJDdHggfSBmcm9tICcuL3dvcmtlckN0eCc7XG5pbXBvcnQgeyBib290V29ya2VyIH0gZnJvbSAnLi93b3JrZXInO1xuaW1wb3J0IHsgcGluZ0h0dHAgfSBmcm9tICcuLi9hcHAvc2VydmljZXMvcGluZ2h0dHAnO1xuXG52YXIgb2ZmbGluZSA9IGZhbHNlO1xuXG5mdW5jdGlvbiBkb1BpbmcgKCkge1xuXG5cdHZhciBpbnRlcnZhbCA9IHNldHRpbmdzLnNldHRpbmdzLmh0dHBQaW5nSW50ZXJ2YWwgfHwgMDtcblx0aWYgKGludGVydmFsIDwgIDE1MDAwKSB7XG5cdFx0aW50ZXJ2YWwgPSAxNTAwMDtcblx0fVxuXG5cdHNlbGYuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0cGluZ0h0dHAoNTAwMCkudGhlbihcblx0XHRcdCgpID0+IHtcblx0XHRcdFx0dmFyIF9vZmZsaW5lID0gZmFsc2U7XG5cblx0XHRcdFx0Ly8gRm9yY2Ugb2ZmbGluZSBzdGF0ZSBpZiBvZmZsaW5lIHN0YXRlIGlzIHNldCBpbiBwcmVmZXJlbmNlcy5cblx0XHRcdFx0aWYgKHNldHRpbmdzLnNldHRpbmdzLmlzT2ZmbGluZSkge1xuXHRcdFx0XHRcdF9vZmZsaW5lID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKG9mZmxpbmUgIT09IF9vZmZsaW5lKSB7XG5cdFx0XHRcdFx0b2ZmbGluZSA9IF9vZmZsaW5lO1xuXHRcdFx0XHRcdHNlbmRPZmZsaW5lU3RhdGUob2ZmbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQoKSA9PiB7XG5cdFx0XHRcdHZhciBfb2ZmbGluZSA9IHRydWU7XG5cblx0XHRcdFx0aWYgKG9mZmxpbmUgIT09IF9vZmZsaW5lKSB7XG5cdFx0XHRcdFx0b2ZmbGluZSA9IF9vZmZsaW5lO1xuXHRcdFx0XHRcdHNlbmRPZmZsaW5lU3RhdGUob2ZmbGluZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cblx0XHQvLyBsb29wIGZvciBldmVyXG5cdFx0ZG9QaW5nKCk7XG5cdH0sIGludGVydmFsKTtcbn1cblxuXG5mdW5jdGlvbiBzZW5kT2ZmbGluZVN0YXRlIChvZmZsaW5lKSAge1xuXG5cdHZhciBtc2c6IElXb3JrZXJNZXNzYWdlID0ge1xuXHRcdHdvcmtlcklkOiB3b3JrZXJDdHgud29ya2VySWQsXG5cdFx0d29ya2VyTmFtZTogd29ya2VyQ3R4Lndvcmtlck5hbWUsXG5cdFx0bWVzc2FnZU5hbWU6ICdvZmZsaW5lJyxcblx0XHRtZXNzYWdlRGF0YToge1xuXHRcdFx0b2ZmbGluZTogb2ZmbGluZVxuXHRcdH1cblx0fVxuXHRzZW5kTWVzc2FnZSAobXNnKSBcblx0aWYgKHNldHRpbmdzLnNldHRpbmdzLmlzRGVidWcgJiYgc2V0dGluZ3Muc2V0dGluZ3MuaXNEZWJ1Z05ldCkge1xuXHRcdGNvbnNvbGUuZGVidWcoJ25ldFdvcmtlcjogc2VudCBtZXNzYWdlOiBvZmZsaW5lICcgKyBvZmZsaW5lKTtcblx0fVxufVxuXG5mdW5jdGlvbiBzdGFydHVwICgpIHtcblx0c2VuZE9mZmxpbmVTdGF0ZShvZmZsaW5lKTtcblx0ZG9QaW5nKCk7XG59XG5cblxuYm9vdFdvcmtlcihmdW5jdGlvbiAoZXZlbnQpIHsgICAgIFxuXHR2YXIgbXNnOiBJV29ya2VyTWVzc2FnZSA9IGV2ZW50LmRhdGE7XG5cdHZhciBzdGFydGVkID0gZmFsc2U7XG5cblx0dHJ5IHtcblx0XHRpZiAoc2V0dGluZ3Muc2V0dGluZ3MuaXNEZWJ1ZyAmJiBzZXR0aW5ncy5zZXR0aW5ncy5pc0RlYnVnTmV0KSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKCduZXRXb3JrZXI6IHJlY2VpdmVkIG1lc3NhZ2U6ICcgKyBtc2cubWVzc2FnZU5hbWUpO1xuXHRcdH1cblxuXHRcdGlmICgnc2V0T2ZmbGluZVN0YXRlJyA9PT0gbXNnLm1lc3NhZ2VOYW1lKSB7XG5cdFx0XHR2YXIgX29mZmxpbmUgPSBtc2cubWVzc2FnZURhdGEub2ZmbGlsZTtcblxuXHRcdFx0ZXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe30pOyAvLyBpbW1pZGF0ZWxseSByZXBseSBiYWNrIHdpdGggcG9zaXRpdmUgYWNrb253bGVkZ2VtZXRcblx0XHRcdGlmIChvZmZsaW5lICE9PSBfb2ZmbGluZSkge1xuXHRcdFx0XHRvZmZsaW5lID0gX29mZmxpbmU7IFxuXHRcdFx0XHRzZW5kT2ZmbGluZVN0YXRlKG9mZmxpbmUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRjb25zb2xlLmVycm9yKCduZXRXb3JrZXI6IGVycm9yOiAnKTtcblx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdGV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtcblx0XHRcdGVycjogJycgKyBlcnJcblx0XHR9KTtcblx0fVxufSwgc3RhcnR1cCk7ICAgIFxuIiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS45LjFcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTggSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCAoYHNlbGZgKSBpbiB0aGUgYnJvd3NlciwgYGdsb2JhbGBcbiAgLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuICAvLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICB2YXIgcm9vdCA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZiAmJiBzZWxmIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICAgIHRoaXMgfHxcbiAgICAgICAgICAgIHt9O1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIFN5bWJvbFByb3RvID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wucHJvdG90eXBlIDogbnVsbDtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyIHB1c2ggPSBBcnJheVByb3RvLnB1c2gsXG4gICAgICBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgICB0b1N0cmluZyA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhciBuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICAgIG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZWlyIG9sZCBtb2R1bGUgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIC8vIChgbm9kZVR5cGVgIGlzIGNoZWNrZWQgdG8gZW5zdXJlIHRoYXQgYG1vZHVsZWBcbiAgLy8gYW5kIGBleHBvcnRzYCBhcmUgbm90IEhUTUwgZWxlbWVudHMuKVxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcgJiYgIWV4cG9ydHMubm9kZVR5cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjkuMSc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGJ1aWx0aW5JdGVyYXRlZTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4gIC8vIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXIgYGlkZW50aXR5YCxcbiAgLy8gYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChfLml0ZXJhdGVlICE9PSBidWlsdGluSXRlcmF0ZWUpIHJldHVybiBfLml0ZXJhdGVlKHZhbHVlLCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpICYmICFfLmlzQXJyYXkodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gRXh0ZXJuYWwgd3JhcHBlciBmb3Igb3VyIGNhbGxiYWNrIGdlbmVyYXRvci4gVXNlcnMgbWF5IGN1c3RvbWl6ZVxuICAvLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4gIC8vIFRoaXMgYWJzdHJhY3Rpb24gaGlkZXMgdGhlIGludGVybmFsLW9ubHkgYXJnQ291bnQgYXJndW1lbnQuXG4gIF8uaXRlcmF0ZWUgPSBidWlsdGluSXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuICAvLyBhcmd1bWVudHMgYXQgdGhlIGJlZ2lubmluZyBhbmQgdGhlbiBhIHZhcmlhYmxlIG51bWJlciBvZiB2YWx1ZXMgdG8gb3BlcmF0ZVxuICAvLyBvbi4gVGhpcyBoZWxwZXIgYWNjdW11bGF0ZXMgYWxsIHJlbWFpbmluZyBhcmd1bWVudHMgcGFzdCB0aGUgZnVuY3Rpb27igJlzXG4gIC8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbiAgLy8gdGhlIGxhc3QgYXJndW1lbnQuIFNpbWlsYXIgdG8gRVM24oCZcyBcInJlc3QgcGFyYW1ldGVyXCIuXG4gIHZhciByZXN0QXJndW1lbnRzID0gZnVuY3Rpb24oZnVuYywgc3RhcnRJbmRleCkge1xuICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICAgIHJlc3QgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCByZXN0KTtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXSwgcmVzdCk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBzaGFsbG93UHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHBhdGgpO1xuICB9XG5cbiAgdmFyIGRlZXBHZXQgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoID8gb2JqIDogdm9pZCAwO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0LlxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHNoYWxsb3dQcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gIHZhciBpc0FycmF5TGlrZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgaSwgbGVuZ3RoO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpba2V5c1tpXV0sIGtleXNbaV0sIG9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuICB2YXIgY3JlYXRlUmVkdWNlID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgLy8gV3JhcCBjb2RlIHRoYXQgcmVhc3NpZ25zIGFyZ3VtZW50IHZhcmlhYmxlcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRoYW5cbiAgICAvLyB0aGUgb25lIHRoYXQgYWNjZXNzZXMgYGFyZ3VtZW50cy5sZW5ndGhgIHRvIGF2b2lkIGEgcGVyZiBoaXQuICgjMTk5MSlcbiAgICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGluaXRpYWwpIHtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGRpcjtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID49IDM7XG4gICAgICByZXR1cm4gcmVkdWNlcihvYmosIG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpLCBtZW1vLCBpbml0aWFsKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5RmluZGVyID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uZmluZEluZGV4IDogXy5maW5kS2V5O1xuICAgIHZhciBrZXkgPSBrZXlGaW5kZXIob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBwYXRoLCBhcmdzKSB7XG4gICAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICAgIGlmIChfLmlzRnVuY3Rpb24ocGF0aCkpIHtcbiAgICAgIGZ1bmMgPSBwYXRoO1xuICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhdGgpKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgcGF0aCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIG1ldGhvZCA9IGZ1bmM7XG4gICAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgICBpZiAoY29udGV4dFBhdGggJiYgY29udGV4dFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGV4dCA9IGRlZXBHZXQoY29udGV4dCwgY29udGV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgICAgIG1ldGhvZCA9IGNvbnRleHRbcGF0aF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0aG9kID09IG51bGwgPyBtZXRob2QgOiBtZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodiwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHY7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkIDwgbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSBJbmZpbml0eSAmJiByZXN1bHQgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdjtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24uXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLnNhbXBsZShvYmosIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbiB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4gIC8vIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICB2YXIgc2FtcGxlID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uY2xvbmUob2JqKSA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChzYW1wbGUpO1xuICAgIG4gPSBNYXRoLm1heChNYXRoLm1pbihuLCBsZW5ndGgpLCAwKTtcbiAgICB2YXIgbGFzdCA9IGxlbmd0aCAtIDE7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG47IGluZGV4KyspIHtcbiAgICAgIHZhciByYW5kID0gXy5yYW5kb20oaW5kZXgsIGxhc3QpO1xuICAgICAgdmFyIHRlbXAgPSBzYW1wbGVbaW5kZXhdO1xuICAgICAgc2FtcGxlW2luZGV4XSA9IHNhbXBsZVtyYW5kXTtcbiAgICAgIHNhbXBsZVtyYW5kXSA9IHRlbXA7XG4gICAgfVxuICAgIHJldHVybiBzYW1wbGUuc2xpY2UoMCwgbik7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgrKyxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvciwgcGFydGl0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJ0aXRpb24gPyBbW10sIFtdXSA6IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdyb3VwcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLiBQYXNzIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGVcbiAgLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4gIF8uZ3JvdXBCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChoYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKGhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICB2YXIgcmVTdHJTeW1ib2wgPSAvW15cXHVkODAwLVxcdWRmZmZdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGZmZl0vZztcbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKF8uaXNTdHJpbmcob2JqKSkge1xuICAgICAgLy8gS2VlcCBzdXJyb2dhdGUgcGFpciBjaGFyYWN0ZXJzIHRvZ2V0aGVyXG4gICAgICByZXR1cm4gb2JqLm1hdGNoKHJlU3RyU3ltYm9sKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBzYXRpc2Z5IHRoZSBnaXZlblxuICAvLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gIF8ucGFydGl0aW9uID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwgcGFzcykge1xuICAgIHJlc3VsdFtwYXNzID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICB9LCB0cnVlKTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoIDwgMSkgcmV0dXJuIG4gPT0gbnVsbCA/IHZvaWQgMCA6IFtdO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8IDEpIHJldHVybiBuID09IG51bGwgPyB2b2lkIDAgOiBbXTtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIF8ucmVzdChhcnJheSwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gbikpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIEJvb2xlYW4pO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpIHtcbiAgICBvdXRwdXQgPSBvdXRwdXQgfHwgW107XG4gICAgdmFyIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvLyBGbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdC5cbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcbiAgICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoaiA8IGxlbikgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpO1xuICAgICAgICAgIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCkge1xuICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIG90aGVyQXJyYXlzKSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgb3RoZXJBcnJheXMpO1xuICB9KTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIFRoZSBmYXN0ZXIgYWxnb3JpdGhtIHdpbGwgbm90IHdvcmsgd2l0aCBhbiBpdGVyYXRlZSBpZiB0aGUgaXRlcmF0ZWVcbiAgLy8gaXMgbm90IGEgb25lLXRvLW9uZSBmdW5jdGlvbiwgc28gcHJvdmlkaW5nIGFuIGl0ZXJhdGVlIHdpbGwgZGlzYWJsZVxuICAvLyB0aGUgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCAmJiAhaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFpIHx8IHNlZW4gIT09IGNvbXB1dGVkKSByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFycmF5cykge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcnJheXMsIHRydWUsIHRydWUpKTtcbiAgfSk7XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICB2YXIgajtcbiAgICAgIGZvciAoaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgcmVzdCkge1xuICAgIHJlc3QgPSBmbGF0dGVuKHJlc3QsIHRydWUsIHRydWUpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXMuXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSByZXN0QXJndW1lbnRzKF8udW56aXApO1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy4gUGFzc2luZyBieSBwYWlycyBpcyB0aGUgcmV2ZXJzZSBvZiBfLnBhaXJzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIGlmICghc3RlcCkge1xuICAgICAgc3RlcCA9IHN0b3AgPCBzdGFydCA/IC0xIDogMTtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIENodW5rIGEgc2luZ2xlIGFycmF5IGludG8gbXVsdGlwbGUgYXJyYXlzLCBlYWNoIGNvbnRhaW5pbmcgYGNvdW50YCBvciBmZXdlclxuICAvLyBpdGVtcy5cbiAgXy5jaHVuayA9IGZ1bmN0aW9uKGFycmF5LCBjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSBudWxsIHx8IGNvdW50IDwgMSkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goc2xpY2UuY2FsbChhcnJheSwgaSwgaSArPSBjb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgdmFyIGV4ZWN1dGVCb3VuZCA9IGZ1bmN0aW9uKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAoIShjYWxsaW5nQ29udGV4dCBpbnN0YW5jZW9mIGJvdW5kRnVuYykpIHJldHVybiBzb3VyY2VGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJncykge1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYm91bmQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGNhbGxBcmdzKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICAgIH0pO1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuICAvLyBwcmUtZmlsbGVkLiBTZXQgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgZm9yIGEgY3VzdG9tIHBsYWNlaG9sZGVyIGFyZ3VtZW50LlxuICBfLnBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICAgIHZhciBwbGFjZWhvbGRlciA9IF8ucGFydGlhbC5wbGFjZWhvbGRlcjtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IHBsYWNlaG9sZGVyID8gYXJndW1lbnRzW3Bvc2l0aW9uKytdIDogYm91bmRBcmdzW2ldO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCB0aGlzLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgIHZhciBpbmRleCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChpbmRleCA8IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIWhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfSk7XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBfLnBhcnRpYWwoXy5kZWxheSwgXywgMSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHRocm90dGxlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHByZXZpb3VzID0gMDtcbiAgICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKGFyZ3MpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcblxuICAgIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgIHZhciBjYWxsTm93ID0gIXRpbWVvdXQ7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgaWYgKGNhbGxOb3cpIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gXy5kZWxheShsYXRlciwgd2FpdCwgdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIF8ucmVzdEFyZ3VtZW50cyA9IHJlc3RBcmd1bWVudHM7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbiAgdmFyIGhhc0VudW1CdWcgPSAhe3RvU3RyaW5nOiBudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuICB2YXIgY29sbGVjdE5vbkVudW1Qcm9wcyA9IGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBub25FbnVtSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aDtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvID0gXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKGhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2AuXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0LlxuICAvLyBJbiBjb250cmFzdCB0byBfLm1hcCBpdCByZXR1cm5zIGFuIG9iamVjdC5cbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSB7fTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIC8vIFRoZSBvcHBvc2l0ZSBvZiBfLm9iamVjdC5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2AuXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgZGVmYXVsdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChkZWZhdWx0cykgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMpO1xuXG4gIC8vIEFzc2lnbnMgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIG93biBwcm9wZXJ0aWVzIGluIHRoZSBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBJbnRlcm5hbCBwaWNrIGhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYG9iamAgaGFzIGtleSBga2V5YC5cbiAgdmFyIGtleUluT2JqID0gZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgcmV0dXJuIGtleSBpbiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sIGl0ZXJhdGVlID0ga2V5c1swXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwga2V5c1sxXSk7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0ga2V5SW5PYmo7XG4gICAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgaWYgKGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iaikpIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRob3V0IHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLm9taXQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBpdGVyYXRlZSA9IGtleXNbMF0sIGNvbnRleHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5uZWdhdGUoaXRlcmF0ZWUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IGtleXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMgPSBfLm1hcChmbGF0dGVuKGtleXMsIGZhbHNlLCBmYWxzZSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9KTtcblxuICAvLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBfLmRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzLCB0cnVlKTtcblxuICAvLyBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIHByb3RvdHlwZSBvYmplY3QuXG4gIC8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gIC8vIGNyZWF0ZWQgb2JqZWN0LlxuICBfLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSwgcHJvcHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIGlmIChwcm9wcykgXy5leHRlbmRPd24ocmVzdWx0LCBwcm9wcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG4gIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8uZXh0ZW5kKHt9LCBvYmopO1xuICB9O1xuXG4gIC8vIEludm9rZXMgaW50ZXJjZXB0b3Igd2l0aCB0aGUgb2JqLCBhbmQgdGhlbiByZXR1cm5zIG9iai5cbiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4gIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcihvYmopO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uaXNNYXRjaCA9IGZ1bmN0aW9uKG9iamVjdCwgYXR0cnMpIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhhdHRycyksIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICFsZW5ndGg7XG4gICAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEsIGRlZXBFcTtcbiAgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgIC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICBpZiAoYSAhPT0gYSkgcmV0dXJuIGIgIT09IGI7XG4gICAgLy8gRXhoYXVzdCBwcmltaXRpdmUgY2hlY2tzXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIGRlZXBFcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTi5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IFN5bWJvbF0nOlxuICAgICAgICByZXR1cm4gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2xQcm90by52YWx1ZU9mLmNhbGwoYik7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShoYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvciwgaXNNYXAsIGlzV2Vha01hcCwgaXNTZXQsIGlzV2Vha1NldC5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InLCAnU3ltYm9sJywgJ01hcCcsICdXZWFrTWFwJywgJ1NldCcsICdXZWFrU2V0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBoYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIFNhZmFyaSA4ICgjMTkyOSksIGFuZCBQaGFudG9tSlMgKCMyMjM2KS5cbiAgdmFyIG5vZGVsaXN0ID0gcm9vdC5kb2N1bWVudCAmJiByb290LmRvY3VtZW50LmNoaWxkTm9kZXM7XG4gIGlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZWxpc3QgIT0gJ2Z1bmN0aW9uJykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICFfLmlzU3ltYm9sKG9iaikgJiYgaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIGlzTmFOKG9iaik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIGhhcyhvYmosIHBhdGgpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgICBpZiAob2JqID09IG51bGwgfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gISFsZW5ndGg7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuICAvLyBwcm9wZXJ0aWVzIGRvd24gdGhlIGdpdmVuIGBwYXRoYCwgc3BlY2lmaWVkIGFzIGFuIGFycmF5IG9mIGtleXMgb3IgaW5kZXhlcy5cbiAgXy5wcm9wZXJ0eSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIHNoYWxsb3dQcm9wZXJ0eShwYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIGRlZXBHZXQob2JqLCBwYXRoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKXt9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgcmV0dXJuICFfLmlzQXJyYXkocGF0aCkgPyBvYmpbcGF0aF0gOiBkZWVwR2V0KG9iaiwgcGF0aCk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gVHJhdmVyc2VzIHRoZSBjaGlsZHJlbiBvZiBgb2JqYCBhbG9uZyBgcGF0aGAuIElmIGEgY2hpbGQgaXMgYSBmdW5jdGlvbiwgaXRcbiAgLy8gaXMgaW52b2tlZCB3aXRoIGl0cyBwYXJlbnQgYXMgY29udGV4dC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpbmFsXG4gIC8vIGNoaWxkLCBvciBgZmFsbGJhY2tgIGlmIGFueSBjaGlsZCBpcyB1bmRlZmluZWQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBmYWxsYmFjaykge1xuICAgIGlmICghXy5pc0FycmF5KHBhdGgpKSBwYXRoID0gW3BhdGhdO1xuICAgIHZhciBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgcmV0dXJuIF8uaXNGdW5jdGlvbihmYWxsYmFjaykgPyBmYWxsYmFjay5jYWxsKG9iaikgOiBmYWxsYmFjaztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHByb3AgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtwYXRoW2ldXTtcbiAgICAgIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcCA9IGZhbGxiYWNrO1xuICAgICAgICBpID0gbGVuZ3RoOyAvLyBFbnN1cmUgd2UgZG9uJ3QgY29udGludWUgaXRlcmF0aW5nLlxuICAgICAgfVxuICAgICAgb2JqID0gXy5pc0Z1bmN0aW9uKHByb3ApID8gcHJvcC5jYWxsKG9iaikgOiBwcm9wO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGU6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZTogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlUmVnRXhwID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdmFyIHJlbmRlcjtcbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciBjaGFpblJlc3VsdCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBvYmopIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX2NoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgXy5lYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIF87XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuXG4gIF8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3h5IGZvciBzb21lIG1ldGhvZHMgdXNlZCBpbiBlbmdpbmUgb3BlcmF0aW9uc1xuICAvLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuICBfLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbiAgXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59KCkpO1xuIiwiaW1wb3J0IHsgcHJvbWlzZVJlamVjdCB9IGZyb20gJy4uL2FwcC9jb21tb24vdXRpbHMnO1xuaW1wb3J0IHsgSVdvcmtlck1lc3NhZ2UsIFdvcmtlckN0eCB9ICBmcm9tICcuLi9hcHAvc2VydmljZXMvdHlwZXMnO1xuaW1wb3J0IHsgTkVUX1dPUktFUiB9ICBmcm9tICcuLi9hcHAvc2VydmljZXMvdHlwZXMnO1xuaW1wb3J0IHsgcGluZ0h0dHAgYXMgYmFzZVBpbmdIdHRwIH0gZnJvbSAnLi8uLi9hcHAvc2VydmljZXMvcGluZ2h0dHAnO1xuaW1wb3J0IHsgUHJpbmNpcGFsIH0gZnJvbSAnLi4vYXBwL3NlcnZpY2VzL3R5cGVzJztcblxudmFyIF9zZWxmOiBhbnkgPSBzZWxmO1xuXG5leHBvcnQgdmFyIHdvcmtlckN0eDogV29ya2VyQ3R4ICA9IHtcblx0d29ya2VySWQ6IG51bGwsXG5cdHdvcmtlck5hbWU6ICd1bmtub3duJyxcblx0b2ZmbGluZTogdHJ1ZSxcblx0ZGV2aWNlOiB7fSxcblx0c2V0dGluZ3M6IHt9LFxuXHRhcHBWZXJzaW9uOiBudWxsLFxuXHRlbnZpcm9ubWVudDogbnVsbCxcblx0cHJpbmNpcGFsOiBudWxsLCBcbn1cblxuZXhwb3J0IHZhciBzZXR0aW5nczogYW55ID0ge1xuXHRzZXR0aW5nczoge31cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXR0aW5ncyAoX3NldHRpbmdzKSB7XG5cdHdvcmtlckN0eC5zZXR0aW5ncyA9IF9zZXR0aW5ncztcblx0c2V0dGluZ3Muc2V0dGluZ3MgPSBfc2V0dGluZ3M7XG59XG4iLCJpbXBvcnQgIHsgXyB9IGZyb20gJ3VuZGVyc2NvcmUnO1xuXG4vLyBDYXN0IHJlZ3VsYXIganMgcHJvbWlzZSB0byBQcm9taXNlPGFueT5cbi8vXG5leHBvcnQgZnVuY3Rpb24gdG9Qcm9taXNlICh2KSA6IFByb21pc2U8YW55PiB7XG5cdGlmICh2ICYmICh0eXBlb2Ygdi50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdHYudGhlbihmdW5jdGlvbiAodikge1xuXHRcdFx0XHRyZXNvbHZlKHYpO1xuXHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBwcm9taXNlUmVzb2x2ZSh2KTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3UHJvbWlzZSAocmVzb2x2ZXIpIDogUHJvbWlzZTxhbnk+IHtcblx0ZnVuY3Rpb24gX3Jlc29sdmVyIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHR0cnkge1xuXHRcdFx0cmVzb2x2ZXIocmVzb2x2ZSwgcmVqZWN0KTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdHJlamVjdChlcnIpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbmV3IFByb21pc2U8YW55PihfcmVzb2x2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZVJlc29sdmUgKHY/KSA6IFByb21pc2U8YW55PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRyZXR1cm4gcmVzb2x2ZSh2KTtcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlUmVqZWN0IChlcnI/KSA6IFByb21pc2U8YW55PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRyZXR1cm4gcmVqZWN0KGVycik7XG5cdH0pO1xufVxuXG4vLyBKb2lucyBhbGwgcHJvbWlzZXMuIFJlc29sdmVzIHdpdGggYXJyYXkgb2YgcmVzdWx0cyBpZiBhbGwgcHJvbWlzZXMgcmVzb2x2ZWQgb3IgZmFpbGVzIGltbWVkaXRhdGVsbHkgd2l0aCBlcnJvciBpZiBhbnkgb2YgcHJvbWlzZXMgcmVqZWN0ZWQuIChzZWUgYW5ndWxhcjE6ICRxLmFsbCgpKVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZUFsbCAocHJvbWlzZXM6IGFueVtdKSA6IFByb21pc2U8YW55PiAge1xuXHR2YXIgbiA9IHByb21pc2VzLmxlbmd0aDtcblx0cmV0dXJuIG5ldyBQcm9taXNlPGFueT4oZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdHZhciBhcnIgPSBbXTtcblx0XHRpZiAobiA9PT0gMCkge1xuXHRcdFx0cmVzb2x2ZShhcnIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfLmVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlLCBpKSB7XG5cdFx0XHRcdHByb21pc2UudGhlbihmdW5jdGlvbiAodikge1xuXHRcdFx0XHRcdGFycltpXSA9IHY7XG5cdFx0XHRcdFx0LS1uO1xuXHRcdFx0XHRcdGlmIChuID09PSAwKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGFycik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gZ2VuZXJhdG9yRm4oKSBtdXN0IHJldHVybiBwcm9taXNlIG9yIG51bGwuXG4vLyBFeGVjdXRlcyBzZXF1ZW5jZSBvZiBwcm9taXNlcyBlYWNoIHByb21pc2UgYmVpbmcgZ2VuZXJhdGVkICBieSBjYWxsIHRvIGdlbmVyYXRvciBnZW5lcmF0b3JGbigpLiBFbmRcbi8vIG9mIHNlcXVlbmNlIG9mIHByb21pc2VzIGlzIHNpZ25hbGxlZCBieSBudWxsIHJldHVybiB2YWx1ZSBmcm9tIGdlbmVyYXRvckZuKCkuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXF1ZW5jZU9mUHJvbWlzZXMgKGdlbmVyYXRvckZuLCBjdHg/KSA6IFByb21pc2U8YW55PiB7XG5cdGZ1bmN0aW9uIF9zZXEoZXJyb3IsIGkpIDogIFByb21pc2U8YW55PiB7XG5cdFx0dmFyIHByb21pc2UgPSBnZW5lcmF0b3JGbihpLCBjdHgpO1xuXHRcdGlmIChwcm9taXNlKSB7XG5cdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIF9zZXEoZXJyb3IsIGkrMSk7XG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGluIGdlbmVyYXRvckZuOicpO1xuXHRcdFx0XHRjb25zb2xlLmRpcihlcnIpO1xuXHRcdFx0XHRyZXR1cm4gX3NlcShlcnIsIGkrMSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlPGFueT4oZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIF9zZXEobnVsbCwgMCk7XG59XG5cbi8vIGdlbmVyYXRvckZuKCkgbXVzdCByZXR1cm4gcHJvbWlzZSBvciBudWxsLiBjb25kaXRpb25GbigpIGlzIHBhc3NlZCB0aGUgcmVzb2x2ZWQgdmFsdWUgZnJvbSBwcm9taXNlIGluIHNlcXVlbmNlLlxuLy8gRXhlY3V0ZXMgc2VxdWVuY2Ugb2YgcHJvbWlzZXMgZWFjaCBwcm9taXNlIGJlaW5nIGdlbmVyYXRlZCAgYnkgY2FsbCB0byBnZW5lcmF0b3IgZ2VuZXJhdG9yRm4oKS4gRW5kXG4vLyBvZiBzZXF1ZW5jZSBvZiBwcm9taXNlcyBpcyBzaWduYWxlZCBieSBmYWxzeSB2YWx1ZSByZXR1cm5lZCBieSBjb25kaXRpb25GbigpIG9yIG51bGwgcmV0dXJuIHZhbHVlIGZyb20gZ2VuZXJhdG9yRm4oKS5cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcXVlbmNlT2ZQcm9taXNlc1VudGlsbFZhbHVlIChnZW5lcmF0b3JGbiwgY29uZGl0aW9uRm4sIGN0eD8pIDogUHJvbWlzZTxhbnk+IHtcblx0ZnVuY3Rpb24gX3NlcShlcnJvciwgaSkgOiBQcm9taXNlPGFueT4ge1xuXHRcdHZhciBwcm9taXNlID0gZ2VuZXJhdG9yRm4oaSwgY3R4KTtcblx0XHRpZiAocHJvbWlzZSkge1xuXHRcdFx0cmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0aWYgKGNvbmRpdGlvbkZuKHZhbHVlKSkge1xuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHByb21pc2VSZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9zZXEoZXJyb3IsIGkrMSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIF9zZXEoZXJyLCBpKzEpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBfc2VxKG51bGwsIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvciAocmVzb3VyY2VGbiwgdGltZW91dE1pbGxpc2Vjb25kcz8sIGludGVydmFsQ2hlY2tNaWxsaXNlY29uZHM/KSA6IFByb21pc2U8YW55PiB7XG5cdGlmICghaW50ZXJ2YWxDaGVja01pbGxpc2Vjb25kcykge1xuXHRcdGludGVydmFsQ2hlY2tNaWxsaXNlY29uZHMgPSAxMDAwO1xuXHR9XG5cdHZhciB3YWl0VGltZSA9IDA7XG5cdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+IChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0ZnVuY3Rpb24gd2FpdCAoKSB7XG5cdFx0XHRpZiAocmVzb3VyY2VGbigpKSB7XG5cdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHdhaXRUaW1lICs9IGludGVydmFsQ2hlY2tNaWxsaXNlY29uZHM7XG5cdFx0XHRcdFx0aWYgKHdhaXRUaW1lID4gNjAgKiAxMDAwKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCd3YWl0Rm9yKCk6IHdhaXRpbmcgdG9vbCBsb25nIGZvciByZXNvdXJjZSAuLi4uJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aW1lb3V0TWlsbGlzZWNvbmRzKSB7XG5cdFx0XHRcdFx0XHRpZiAod2FpdFRpbWUgPiB0aW1lb3V0TWlsbGlzZWNvbmRzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3dhaXRGb3IoKTogdGltZW91dCcpO1xuXHRcdFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCd3YWl0Rm9yKCk6IHRpbWVvdXQnKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d2FpdCgpO1xuXHRcdFx0XHR9LCAxMDAwKVxuXHRcdFx0fVxuXHRcdH1cblx0XHR3YWl0KCk7XG5cdH0pXG59XG5cbi8vIFJldHVybnMgZGVlcCBjbG9uZSBvZiAnbycgcmVtb3ZpbmcgYWxsIGJsYWNrbGlzdGVkIGtleXMuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwT21pdCAobywgYmxhY2tMaXN0KSB7XG5cblx0ZnVuY3Rpb24gcGx1Y2sgKG8pIHtcblx0XHR2YXIgcGx1Y2tlZCA9ICBfLm9taXQobywgYmxhY2tMaXN0KTtcblx0XHRfLmVhY2gocGx1Y2tlZCwgZnVuY3Rpb24odiwgaykge1xuXG5cdFx0XHQvLyBhcHBseSBwbHVjayBvbmx5IG9uIG5lc3RlZCBvYmplY3RzXG5cdFx0XHRpZihfLmlzT2JqZWN0KHBsdWNrZWRba10pKXtcblx0XHRcdFx0cGx1Y2tlZFtrXSA9IHBsdWNrKHYpO1xuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHBsdWNrZWQ7XG5cdH1cblx0dmFyIF9vID0gcGx1Y2sobyk7XG5cdHJldHVybiBfbztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvd3NUb0pzb24ocm93cykge1xuXHR2YXIgbyA9IHt9O1xuXHRfLmVhY2gocm93cywgZnVuY3Rpb24gKHYpIHtcblx0XHRvW3YuS2V5XSA9IHYuVmFsdWU7XG5cdH0pO1xuXHRyZXR1cm4gbztcbn1cblxuLy8gQ2xvbmUgb2JqZWN0XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcblxuXHRpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdHZhciB0ZW1wID0gb2JqLmNvbnN0cnVjdG9yKCk7XG5cdGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0XHR0ZW1wW2tleV0gPSBjbG9uZShvYmpba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gdGVtcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ4UHJvbWlzZSAob2JzZXJ2YWJsZSkgOiBQcm9taXNlPGFueT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2U8YW55PiAoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdG9ic2VydmFibGUuc3Vic2NyaWJlKCh2YWwpID0+IHtcblx0XHRcdHJlc29sdmUodmFsKTtcblx0XHR9LCAoZXJyKSA9PiB7XG5cdFx0XHRyZWplY3QoZXJyKTtcblx0XHR9KTtcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGVlcCAobWlsbGlzZWNvbmRzKSA6IFByb21pc2U8YW55PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+ICgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSwgbWlsbGlzZWNvbmRzKTtcblx0fSlcbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgeyBwcm9taXNlUmVqZWN0IH0gZnJvbSAnLi4vYXBwL2NvbW1vbi91dGlscyc7XG5pbXBvcnQgeyBJV29ya2VyTWVzc2FnZSB9ICBmcm9tICcuLi9hcHAvc2VydmljZXMvdHlwZXMnO1xuaW1wb3J0IHsgTkVUX1dPUktFUiB9ICBmcm9tICcuLi9hcHAvc2VydmljZXMvdHlwZXMnO1xuaW1wb3J0IHsgcGluZ0h0dHAgYXMgYmFzZVBpbmdIdHRwIH0gZnJvbSAnLi8uLi9hcHAvc2VydmljZXMvcGluZ2h0dHAnO1xuaW1wb3J0IHsgUHJpbmNpcGFsIH0gZnJvbSAnLi4vYXBwL3NlcnZpY2VzL3R5cGVzJztcbmltcG9ydCB7IHdvcmtlckN0eCB9IGZyb20gJy4vd29ya2VyQ3R4JztcblxudmFyIF9zZWxmOiBhbnkgPSBzZWxmO1xuXG5cbi8vIFNlbmQgbWVzc2FnZSB0byBtYWluIHRocmVhZCBhbmQgcmV0dXJucyByZXBseTtcbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZSAgKG1zZzogSVdvcmtlck1lc3NhZ2UpIDogUHJvbWlzZTxhbnk+ICB7XG5cdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+ICgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0dmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcblxuXHRcdF9zZWxmLnBvc3RNZXNzYWdlKG1zZywgW2NoYW5uZWwucG9ydDJdKTtcblxuXHRcdGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRpZiAoZXZlbnQuZGF0YS5lcnIpIHtcblx0XHRcdFx0cmVqZWN0KGV2ZW50LmRhdGEuZXJyKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0cmVzb2x2ZShldmVudC5kYXRhKTtcblx0XHR9XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGluZ0h0dHAgKCkgOiBQcm9taXNlPGFueT4ge1xuXHR2YXIgbXNnOiBJV29ya2VyTWVzc2FnZSA9IHtcblx0XHR3b3JrZXJJZDogd29ya2VyQ3R4LndvcmtlcklkLFxuXHRcdHdvcmtlck5hbWU6IHdvcmtlckN0eC53b3JrZXJOYW1lLCBcblx0XHRkc3RXb3JrZXJOYW1lOiBORVRfV09SS0VSLCBcblx0XHRtZXNzYWdlTmFtZTogJ3NldE9mZmxpbm5lU3RhdGUnLFxuXHRcdG1lc3NhZ2VEYXRhOiB7fVxuXHR9XG5cdHJldHVybiBiYXNlUGluZ0h0dHAoKS50aGVuKGZ1bmN0aW9uICh2KSB7XG5cdFx0bXNnLm1lc3NhZ2VEYXRhLm9mZmxpbmUgPSBmYWxzZTtcblx0XHRzZW5kTWVzc2FnZShtc2cpO1xuXHRcdHJldHVybiB2O1xuXHR9LCBmdW5jdGlvbiAodikge1xuXHRcdG1zZy5tZXNzYWdlRGF0YS5vZmZsaW5lID0gdHJ1ZTtcblx0XHRzZW5kTWVzc2FnZShtc2cpO1xuXHRcdHJldHVybiBwcm9taXNlUmVqZWN0KHYpO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hQcmluY2lwYWwgKCkgOiBQcm9taXNlPGFueT4ge1xuXHR2YXIgbXNnOiBJV29ya2VyTWVzc2FnZSA9IHtcblx0XHR3b3JrZXJJZDogd29ya2VyQ3R4LndvcmtlcklkLFxuXHRcdHdvcmtlck5hbWU6IHdvcmtlckN0eC53b3JrZXJOYW1lLCBcblx0XHRtZXNzYWdlTmFtZTogJ3JlZnJlc2hQcmluY2lwYWwnLFxuXHRcdG1lc3NhZ2VEYXRhOiB7fVxuXHR9XG5cdHJldHVybiBzZW5kTWVzc2FnZShtc2cpO1xufVxuXG4iLCJcbi8vICd0aW1lb3V0JyAtIHRpbWVvdXQgaW4gbWlsbGlzZWNvbnNcbmV4cG9ydCBmdW5jdGlvbiBwaW5nSHR0cCAodGltZW91dD8pOiBQcm9taXNlPGFueT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0aWYgKCF0aW1lb3V0KSB7XG5cdFx0XHR0aW1lb3V0ID0gNTAwMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR2YXIgeGh0dHA6IGFueSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0eGh0dHAudGltZW91dCA9IHRpbWVvdXQ7XG5cdFx0XHR4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRcdGlmICh4aHR0cC5yZWFkeVN0YXRlID09PSA0KSB7XG5cdFx0XHRcdFx0aWYgKHhodHRwLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlamVjdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHhodHRwLm9wZW4oXCJPUFRJT05TXCIsIFwiaHR0cHM6Ly9hcGl2MS5jbG91ZGVtcGllcmUuY29tL2FscGhhL3N0YXR1c1wiLCB0cnVlKTtcblx0XHRcdHhodHRwLnNlbmQoKTtcblxuXHRcdFx0eGh0dHAub250aW1lb3V0ID0gKCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcmVqZWN0KCk7XG5cdFx0XHR9O1xuXG5cdFx0XHR4aHR0cC5lcnJvciA9IChlcnIpID0+IHtcblx0XHRcdFx0cmV0dXJuIHJlamVjdCgpO1xuXHRcdFx0fTtcblx0XHR9KS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cdH0pO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==